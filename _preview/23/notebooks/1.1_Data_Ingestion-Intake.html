
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data Ingestion - Intake &#8212; Landsat ML Cookbook</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-pythia-theme.min.css?v=e502140d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=c54c090a" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/1.1_Data_Ingestion-Intake';</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Preprocessing - Regrid" href="2.0_Preprocessing.html" />
    <link rel="prev" title="Data Ingestion - Microsoft Planetary Computer" href="1.0_Data_Ingestion-Planetary_Computer.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="1 April 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>

  
  <div class="pst-scroll-pixel-helper"></div>
    <header class="bd-header navbar navbar-dark navbar-expand-lg bg-dark fixed-top bd-navbar shadow" id="navbar-main">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

   

<a class="navbar-brand logo" href="https://projectpythia.org">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pythia_logo-white-rtext.svg" class="logo__image only-light" alt="Landsat ML Cookbook - Home"/>
    <script>document.write(`<img src="../_static/pythia_logo-white-rtext.svg" class="logo__image only-dark" alt="Landsat ML Cookbook - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><ul id="navbar-main-elements" class="navbar-nav">
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org">Home</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://foundations.projectpythia.org">Foundations</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://cookbooks.projectpythia.org">Cookbooks</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org/resource-gallery.html">Resources</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org/index.html#join-us">Community</a>
  </li>
  
  
</ul></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ProjectPythia" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/project_pythia" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/channel/UCoZPBqJal5uKpO8ZiwzavCw" title="YouTube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-youtube-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">YouTube</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
        
        
        
        <div class="bd-sidebar-primary bd-sidebar">
          

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><ul id="navbar-main-elements" class="navbar-nav">
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org">Home</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://foundations.projectpythia.org">Foundations</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://cookbooks.projectpythia.org">Cookbooks</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org/resource-gallery.html">Resources</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org/index.html#join-us">Community</a>
  </li>
  
  
</ul></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ProjectPythia" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/project_pythia" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/channel/UCoZPBqJal5uKpO8ZiwzavCw" title="YouTube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-youtube-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">YouTube</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    Landsat ML Cookbook
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Preamble</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="how-to-cite.html">How to Cite This Cookbook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Foundations</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="0.0_Intro_Landsat.html">Start Here - Intro to Landsat Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="1.0_Data_Ingestion-Planetary_Computer.html">Data Ingestion - Microsoft Planetary Computer</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">Data Ingestion - Intake</a></li>
<li class="toctree-l1"><a class="reference internal" href="2.0_Preprocessing.html">Preprocessing - Regrid</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Example Workflows</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="3.0_Spectral_Clustering_PC.html">Spectral Clustering</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


        </div>

        
        <main id="main-content" class="bd-main" role="main">
          

            <div class="bd-content">

              <div class="bd-article-container">

                
                  
                  
<div id="searchbox"></div>
                  <article class="bd-article">
                    
  <p><img alt="Landsat8" src="../_images/nasa_landsat8.jpg" /></p>
<section class="tex2jax_ignore mathjax_ignore" id="data-ingestion-intake">
<h1>Data Ingestion - Intake<a class="headerlink" href="#data-ingestion-intake" title="Link to this heading"><i class="fas fa-link"></i></a></h1>
<hr class="docutils" />
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<p>In the last notebook, you learned how to efficiently load data from the Microsoft Planetary Computer platform. If that approach works for you, please proceed to a workflow example. However, there are many other established approaches and platforms (e.g. <a class="reference external" href="https://search.earthdata.nasa.gov/search">NASA EarthData</a>, <a class="reference external" href="https://earthexplorer.usgs.gov/">USGS EarthExplorer</a>, <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog/landsat">Google</a>, and <a class="reference external" href="https://registry.opendata.aws/usgs-landsat/">AWS</a>),  for loading Landsat data that may not preprocess the data in the exact same way or use a similar API. For this reason, in this notebook we will demonstrate common alternative approaches and techniques for general data access, centered around <a class="reference external" href="https://intake.readthedocs.io">Intake</a>.</p>
<p>First, to demonstrate simple cases, we will begin by reading in a local files with <a class="reference external" href="https://pandas.pydata.org/docs/">Pandas</a> and <a class="reference external" href="https://docs.xarray.dev/en/stable/">xarray</a>. Then we will demonstrate the combined use of <a class="reference external" href="https://intake.readthedocs.io">Intake</a> and <a class="reference external" href="https://docs.dask.org/en/stable/">Dask</a> libraries to efficiently fetch data from a remote server.</p>
<div class="admonition alert alert-info">
<p class="admonition-title">Info</p>
<p>A great way to contribute to this cookbook is to create a notebook that focuses on data access from a specific provider.</p>
</div>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Concepts</p></th>
<th class="head"><p>Importance</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="0.0_Intro_Landsat.html"><span class="std std-doc">Intro to Landsat</span></a></p></td>
<td><p>Necessary</p></td>
<td><p>Background</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="1.0_Data_Ingestion-Planetary_Computer.html"><span class="std std-doc">Data Ingestion - Planetary Computer</span></a></p></td>
<td><p>Helpful</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://foundations.projectpythia.org/core/pandas.html">Pandas Cookbook</a></p></td>
<td><p>Helpful</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://foundations.projectpythia.org/core/xarray.html">xarray Cookbook</a></p></td>
<td><p>Necessary</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://intake.readthedocs.io/en/latest/index.html">Intake Quickstart</a></p></td>
<td><p>Helpful</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://projectpythia.org/intake-cookbook/README.html">Intake Cookbook</a></p></td>
<td><p>Necessary</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><strong>Time to learn</strong>: 20 minutes</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="imports">
<h2>Imports<a class="headerlink" href="#imports" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">intake</span>
<span class="kn">import</span> <span class="nn">hvplot.intake</span>
<span class="kn">import</span> <span class="nn">hvplot.xarray</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="ne">FutureWarning</span><span class="p">)</span> <span class="c1"># Ignore warning about the format of epsg codes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/javascript">(function(root) {
  function now() {
    return new Date();
  }

  var force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, js_modules, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];
    if (js_modules == null) js_modules = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls.length === 0 && js_modules.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error() {
      console.error("failed to load " + url);
    }

    for (var i = 0; i < css_urls.length; i++) {
      var url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error;
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    var skip = [];
    if (window.requirejs) {
      window.requirejs.config({'packages': {}, 'paths': {'gridstack': 'https://cdn.jsdelivr.net/npm/gridstack@4.2.5/dist/gridstack-h5', 'notyf': 'https://cdn.jsdelivr.net/npm/notyf@3/notyf.min'}, 'shim': {'gridstack': {'exports': 'GridStack'}}});
      require(["gridstack"], function(GridStack) {
	window.GridStack = GridStack
	on_load()
      })
      require(["notyf"], function() {
	on_load()
      })
      root._bokeh_is_loading = css_urls.length + 2;
    } else {
      root._bokeh_is_loading = css_urls.length + js_urls.length + js_modules.length;
    }    if (((window['GridStack'] !== undefined) && (!(window['GridStack'] instanceof HTMLElement))) || window.requirejs) {
      var urls = ['https://cdn.holoviz.org/panel/0.14.4/dist/bundled/gridstack/gridstack@4.2.5/dist/gridstack-h5.js'];
      for (var i = 0; i < urls.length; i++) {
        skip.push(urls[i])
      }
    }    if (((window['Notyf'] !== undefined) && (!(window['Notyf'] instanceof HTMLElement))) || window.requirejs) {
      var urls = ['https://cdn.holoviz.org/panel/0.14.4/dist/bundled/notificationarea/notyf@3/notyf.min.js'];
      for (var i = 0; i < urls.length; i++) {
        skip.push(urls[i])
      }
    }    for (var i = 0; i < js_urls.length; i++) {
      var url = js_urls[i];
      if (skip.indexOf(url) >= 0) {
	if (!window.requirejs) {
	  on_load();
	}
	continue;
      }
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
    for (var i = 0; i < js_modules.length; i++) {
      var url = js_modules[i];
      if (skip.indexOf(url) >= 0) {
	if (!window.requirejs) {
	  on_load();
	}
	continue;
      }
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      element.type = "module";
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
    if (!js_urls.length && !js_modules.length) {
      on_load()
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  var js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-2.4.3.min.js", "https://unpkg.com/@holoviz/panel@0.14.4/dist/panel.min.js"];
  var js_modules = [];
  var css_urls = ["https://cdn.holoviz.org/panel/0.14.4/dist/css/alerts.css", "https://cdn.holoviz.org/panel/0.14.4/dist/css/widgets.css", "https://cdn.holoviz.org/panel/0.14.4/dist/css/dataframe.css", "https://cdn.holoviz.org/panel/0.14.4/dist/css/debugger.css", "https://cdn.holoviz.org/panel/0.14.4/dist/css/card.css", "https://cdn.holoviz.org/panel/0.14.4/dist/css/markdown.css", "https://cdn.holoviz.org/panel/0.14.4/dist/css/loading.css", "https://cdn.holoviz.org/panel/0.14.4/dist/css/json.css"];
  var inline_js = [    function(Bokeh) {
      inject_raw_css("\n    .bk.pn-loading.arc:before {\n      background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJtYXJnaW46IGF1dG87IGJhY2tncm91bmQ6IG5vbmU7IGRpc3BsYXk6IGJsb2NrOyBzaGFwZS1yZW5kZXJpbmc6IGF1dG87IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPiAgPGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjYzNjM2MzIiBzdHJva2Utd2lkdGg9IjEwIiByPSIzNSIgc3Ryb2tlLWRhc2hhcnJheT0iMTY0LjkzMzYxNDMxMzQ2NDE1IDU2Ljk3Nzg3MTQzNzgyMTM4Ij4gICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBkdXI9IjFzIiB2YWx1ZXM9IjAgNTAgNTA7MzYwIDUwIDUwIiBrZXlUaW1lcz0iMDsxIj48L2FuaW1hdGVUcmFuc2Zvcm0+ICA8L2NpcmNsZT48L3N2Zz4=\");\n      background-size: auto calc(min(50%, 400px));\n    }\n    ");
    },    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {} // ensure no trailing comma for IE
  ];

  function run_inline_js() {
    if ((root.Bokeh !== undefined) || (force === true)) {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i].call(root, root.Bokeh);
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, js_modules, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script><script type="application/javascript">
if ((window.PyViz === undefined) || (window.PyViz instanceof HTMLElement)) {
  window.PyViz = {comms: {}, comm_status:{}, kernels:{}, receivers: {}, plot_index: []}
}


    function JupyterCommManager() {
    }

    JupyterCommManager.prototype.register_target = function(plot_id, comm_id, msg_handler) {
      if (window.comm_manager || ((window.Jupyter !== undefined) && (Jupyter.notebook.kernel != null))) {
        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;
        comm_manager.register_target(comm_id, function(comm) {
          comm.on_msg(msg_handler);
        });
      } else if ((plot_id in window.PyViz.kernels) && (window.PyViz.kernels[plot_id])) {
        window.PyViz.kernels[plot_id].registerCommTarget(comm_id, function(comm) {
          comm.onMsg = msg_handler;
        });
      } else if (typeof google != 'undefined' && google.colab.kernel != null) {
        google.colab.kernel.comms.registerTarget(comm_id, (comm) => {
          var messages = comm.messages[Symbol.asyncIterator]();
          function processIteratorResult(result) {
            var message = result.value;
            console.log(message)
            var content = {data: message.data, comm_id};
            var buffers = []
            for (var buffer of message.buffers || []) {
              buffers.push(new DataView(buffer))
            }
            var metadata = message.metadata || {};
            var msg = {content, buffers, metadata}
            msg_handler(msg);
            return messages.next().then(processIteratorResult);
          }
          return messages.next().then(processIteratorResult);
        })
      }
    }

    JupyterCommManager.prototype.get_client_comm = function(plot_id, comm_id, msg_handler) {
      if (comm_id in window.PyViz.comms) {
        return window.PyViz.comms[comm_id];
      } else if (window.comm_manager || ((window.Jupyter !== undefined) && (Jupyter.notebook.kernel != null))) {
        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;
        var comm = comm_manager.new_comm(comm_id, {}, {}, {}, comm_id);
        if (msg_handler) {
          comm.on_msg(msg_handler);
        }
      } else if ((plot_id in window.PyViz.kernels) && (window.PyViz.kernels[plot_id])) {
        var comm = window.PyViz.kernels[plot_id].connectToComm(comm_id);
        comm.open();
        if (msg_handler) {
          comm.onMsg = msg_handler;
        }
      } else if (typeof google != 'undefined' && google.colab.kernel != null) {
        var comm_promise = google.colab.kernel.comms.open(comm_id)
        comm_promise.then((comm) => {
          window.PyViz.comms[comm_id] = comm;
          if (msg_handler) {
            var messages = comm.messages[Symbol.asyncIterator]();
            function processIteratorResult(result) {
              var message = result.value;
              var content = {data: message.data};
              var metadata = message.metadata || {comm_id};
              var msg = {content, metadata}
              msg_handler(msg);
              return messages.next().then(processIteratorResult);
            }
            return messages.next().then(processIteratorResult);
          }
        }) 
        var sendClosure = (data, metadata, buffers, disposeOnDone) => {
          return comm_promise.then((comm) => {
            comm.send(data, metadata, buffers, disposeOnDone);
          });
        };
        var comm = {
          send: sendClosure
        };
      }
      window.PyViz.comms[comm_id] = comm;
      return comm;
    }
    window.PyViz.comm_manager = new JupyterCommManager();
    


var JS_MIME_TYPE = 'application/javascript';
var HTML_MIME_TYPE = 'text/html';
var EXEC_MIME_TYPE = 'application/vnd.holoviews_exec.v0+json';
var CLASS_NAME = 'output';

/**
 * Render data to the DOM node
 */
function render(props, node) {
  var div = document.createElement("div");
  var script = document.createElement("script");
  node.appendChild(div);
  node.appendChild(script);
}

/**
 * Handle when a new output is added
 */
function handle_add_output(event, handle) {
  var output_area = handle.output_area;
  var output = handle.output;
  if ((output.data == undefined) || (!output.data.hasOwnProperty(EXEC_MIME_TYPE))) {
    return
  }
  var id = output.metadata[EXEC_MIME_TYPE]["id"];
  var toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);
  if (id !== undefined) {
    var nchildren = toinsert.length;
    var html_node = toinsert[nchildren-1].children[0];
    html_node.innerHTML = output.data[HTML_MIME_TYPE];
    var scripts = [];
    var nodelist = html_node.querySelectorAll("script");
    for (var i in nodelist) {
      if (nodelist.hasOwnProperty(i)) {
        scripts.push(nodelist[i])
      }
    }

    scripts.forEach( function (oldScript) {
      var newScript = document.createElement("script");
      var attrs = [];
      var nodemap = oldScript.attributes;
      for (var j in nodemap) {
        if (nodemap.hasOwnProperty(j)) {
          attrs.push(nodemap[j])
        }
      }
      attrs.forEach(function(attr) { newScript.setAttribute(attr.name, attr.value) });
      newScript.appendChild(document.createTextNode(oldScript.innerHTML));
      oldScript.parentNode.replaceChild(newScript, oldScript);
    });
    if (JS_MIME_TYPE in output.data) {
      toinsert[nchildren-1].children[1].textContent = output.data[JS_MIME_TYPE];
    }
    output_area._hv_plot_id = id;
    if ((window.Bokeh !== undefined) && (id in Bokeh.index)) {
      window.PyViz.plot_index[id] = Bokeh.index[id];
    } else {
      window.PyViz.plot_index[id] = null;
    }
  } else if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
    var bk_div = document.createElement("div");
    bk_div.innerHTML = output.data[HTML_MIME_TYPE];
    var script_attrs = bk_div.children[0].attributes;
    for (var i = 0; i < script_attrs.length; i++) {
      toinsert[toinsert.length - 1].childNodes[1].setAttribute(script_attrs[i].name, script_attrs[i].value);
    }
    // store reference to server id on output_area
    output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
  }
}

/**
 * Handle when an output is cleared or removed
 */
function handle_clear_output(event, handle) {
  var id = handle.cell.output_area._hv_plot_id;
  var server_id = handle.cell.output_area._bokeh_server_id;
  if (((id === undefined) || !(id in PyViz.plot_index)) && (server_id !== undefined)) { return; }
  var comm = window.PyViz.comm_manager.get_client_comm("hv-extension-comm", "hv-extension-comm", function () {});
  if (server_id !== null) {
    comm.send({event_type: 'server_delete', 'id': server_id});
    return;
  } else if (comm !== null) {
    comm.send({event_type: 'delete', 'id': id});
  }
  delete PyViz.plot_index[id];
  if ((window.Bokeh !== undefined) & (id in window.Bokeh.index)) {
    var doc = window.Bokeh.index[id].model.document
    doc.clear();
    const i = window.Bokeh.documents.indexOf(doc);
    if (i > -1) {
      window.Bokeh.documents.splice(i, 1);
    }
  }
}

/**
 * Handle kernel restart event
 */
function handle_kernel_cleanup(event, handle) {
  delete PyViz.comms["hv-extension-comm"];
  window.PyViz.plot_index = {}
}

/**
 * Handle update_display_data messages
 */
function handle_update_output(event, handle) {
  handle_clear_output(event, {cell: {output_area: handle.output_area}})
  handle_add_output(event, handle)
}

function register_renderer(events, OutputArea) {
  function append_mime(data, metadata, element) {
    // create a DOM node to render to
    var toinsert = this.create_output_subarea(
    metadata,
    CLASS_NAME,
    EXEC_MIME_TYPE
    );
    this.keyboard_manager.register_events(toinsert);
    // Render to node
    var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
    render(props, toinsert[0]);
    element.append(toinsert);
    return toinsert
  }

  events.on('output_added.OutputArea', handle_add_output);
  events.on('output_updated.OutputArea', handle_update_output);
  events.on('clear_output.CodeCell', handle_clear_output);
  events.on('delete.Cell', handle_clear_output);
  events.on('kernel_ready.Kernel', handle_kernel_cleanup);

  OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
    safe: true,
    index: 0
  });
}

if (window.Jupyter !== undefined) {
  try {
    var events = require('base/js/events');
    var OutputArea = require('notebook/js/outputarea').OutputArea;
    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  } catch(err) {
  }
}
</script><div class="output text_html"><style>.bk-root, .bk-root .bk:before, .bk-root .bk:after {
  font-family: var(--jp-ui-font-size1);
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color1);
}
</style></div></div>
</div>
</section>
<section id="loading-local-metadata-with-pandas">
<h2>Loading local metadata with Pandas<a class="headerlink" href="#loading-local-metadata-with-pandas" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<p>Often, it’s common to have local files that could contain metadata.  Therefore, we’ll start with the simple case of loading small local tabular data, such as <code class="docutils literal notranslate"><span class="pre">.csv</span></code> files into Pandas Dataframes.</p>
<p>Let’s load information about Landsat 5 bands:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat5_bands</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/landsat5_bands.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Band&#39;</span><span class="p">)</span>
<span class="n">landsat5_bands</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Description</th>
      <th>Range (nm)</th>
    </tr>
    <tr>
      <th>Band</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>Blue</td>
      <td>450-520</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Green</td>
      <td>520-600</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Red</td>
      <td>630-690</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Near-Infrared</td>
      <td>760-900</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Short Wavelength Infrared 1</td>
      <td>1550-1750</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Thermal Infrared</td>
      <td>10400-12500</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Short Wavelength Infrared 2</td>
      <td>2080-2350</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>…and the relevant subset of Landsat 8 bands:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat8_bands</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/landsat8_bands.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Band&#39;</span><span class="p">)</span>
<span class="n">landsat8_bands</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Description</th>
      <th>Range (nm)</th>
    </tr>
    <tr>
      <th>Band</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>Coastal Aerosol</td>
      <td>435-451</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Blue</td>
      <td>452-512</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Green</td>
      <td>533-590</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Red</td>
      <td>636-673</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Near-Infrared</td>
      <td>851-879</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Short Wavelength Infrared 1</td>
      <td>1566-1651</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Short Wavelength Infrared 2</td>
      <td>2107-2294</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Interestingly, we can see that the range and index of the bands differ between the satellites. For example, ‘Red’ is Band-4 within Landsat 8, but Band-3 within Landsat 5. This is important to keep in mind whenever comparing data across Landsat missions.</p>
</section>
<section id="loading-small-and-local-data-with-xarray">
<h2>Loading small and local data with xarray<a class="headerlink" href="#loading-small-and-local-data-with-xarray" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<p>Although initiatives are underway to enhance cloud-based data workflows, at some point, it will likely be the case that you will have some local gridded data that you want to load and preview without much fuss. For this simple case, it makes sense to use an appropriately simple API. Using xarray and hvplot, we can quickly complete this task of previewing a local <a class="reference external" href="https://foundations.projectpythia.org/core/data-formats/netcdf-cf.html">netCDF</a> file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_crop</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataarray</span><span class="p">(</span><span class="s1">&#39;data/landsat5_crop.nc&#39;</span><span class="p">)</span>
<span class="n">landsat_5_crop</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (y: 40, x: 40)&gt;
[1600 values with dtype=float64]
Coordinates:
    band     int64 ...
  * y        (y) float64 4.297e+06 4.297e+06 4.297e+06 ... 4.292e+06 4.291e+06
  * x        (x) float64 3.384e+05 3.386e+05 3.387e+05 ... 3.441e+05 3.442e+05
Attributes:
    transform:      [ 1.500000e+02  0.000000e+00  3.323250e+05  0.000000e+00 ...
    crs:            +init=epsg:32611
    res:            [150. 150.]
    is_tiled:       0
    nodatavals:     nan
    scales:         1.0
    offsets:        0.0
    AREA_OR_POINT:  Area</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>y</span>: 40</li><li><span class='xr-has-index'>x</span>: 40</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-f6bab84e-b010-4100-8ebb-236a7dab5891' class='xr-array-in' type='checkbox' checked><label for='section-f6bab84e-b010-4100-8ebb-236a7dab5891' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>...</span></div><div class='xr-array-data'><pre>[1600 values with dtype=float64]</pre></div></div></li><li class='xr-section-item'><input id='section-15bc7026-5e03-436e-9757-5b5d2c224765' class='xr-section-summary-in' type='checkbox'  checked><label for='section-15bc7026-5e03-436e-9757-5b5d2c224765' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>band</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-327cc053-d87f-4ec4-8a2e-590bff6b0c14' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-327cc053-d87f-4ec4-8a2e-590bff6b0c14' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-40d5bb31-a596-4f1b-bf2d-f4e05640a279' class='xr-var-data-in' type='checkbox'><label for='data-40d5bb31-a596-4f1b-bf2d-f4e05640a279' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>[1 values with dtype=int64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.297e+06 4.297e+06 ... 4.291e+06</div><input id='attrs-9eeda414-5932-46f9-8de3-bc831854c478' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9eeda414-5932-46f9-8de3-bc831854c478' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ce8417ca-382b-49e2-9a73-9ceb065f037b' class='xr-var-data-in' type='checkbox'><label for='data-ce8417ca-382b-49e2-9a73-9ceb065f037b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([4297200., 4297050., 4296900., 4296750., 4296600., 4296450., 4296300.,
       4296150., 4296000., 4295850., 4295700., 4295550., 4295400., 4295250.,
       4295100., 4294950., 4294800., 4294650., 4294500., 4294350., 4294200.,
       4294050., 4293900., 4293750., 4293600., 4293450., 4293300., 4293150.,
       4293000., 4292850., 4292700., 4292550., 4292400., 4292250., 4292100.,
       4291950., 4291800., 4291650., 4291500., 4291350.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.384e+05 3.386e+05 ... 3.442e+05</div><input id='attrs-368768a4-f095-46aa-a090-c22ff9dee519' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-368768a4-f095-46aa-a090-c22ff9dee519' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f59c9329-a7d0-49e7-9adc-6b5cbf477cc5' class='xr-var-data-in' type='checkbox'><label for='data-f59c9329-a7d0-49e7-9adc-6b5cbf477cc5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([338400., 338550., 338700., 338850., 339000., 339150., 339300., 339450.,
       339600., 339750., 339900., 340050., 340200., 340350., 340500., 340650.,
       340800., 340950., 341100., 341250., 341400., 341550., 341700., 341850.,
       342000., 342150., 342300., 342450., 342600., 342750., 342900., 343050.,
       343200., 343350., 343500., 343650., 343800., 343950., 344100., 344250.])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8aa54f8d-6385-4703-9847-3440dac4b2b2' class='xr-section-summary-in' type='checkbox'  ><label for='section-8aa54f8d-6385-4703-9847-3440dac4b2b2' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-d6b83ee4-55f7-4d7d-aac1-0e2e467de034' class='xr-index-data-in' type='checkbox'/><label for='index-d6b83ee4-55f7-4d7d-aac1-0e2e467de034' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([4297200.0, 4297050.0, 4296900.0, 4296750.0, 4296600.0, 4296450.0,
       4296300.0, 4296150.0, 4296000.0, 4295850.0, 4295700.0, 4295550.0,
       4295400.0, 4295250.0, 4295100.0, 4294950.0, 4294800.0, 4294650.0,
       4294500.0, 4294350.0, 4294200.0, 4294050.0, 4293900.0, 4293750.0,
       4293600.0, 4293450.0, 4293300.0, 4293150.0, 4293000.0, 4292850.0,
       4292700.0, 4292550.0, 4292400.0, 4292250.0, 4292100.0, 4291950.0,
       4291800.0, 4291650.0, 4291500.0, 4291350.0],
      dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-3ba8e9c2-2003-4b0d-84a8-697f35b24620' class='xr-index-data-in' type='checkbox'/><label for='index-3ba8e9c2-2003-4b0d-84a8-697f35b24620' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([338400.0, 338550.0, 338700.0, 338850.0, 339000.0, 339150.0, 339300.0,
       339450.0, 339600.0, 339750.0, 339900.0, 340050.0, 340200.0, 340350.0,
       340500.0, 340650.0, 340800.0, 340950.0, 341100.0, 341250.0, 341400.0,
       341550.0, 341700.0, 341850.0, 342000.0, 342150.0, 342300.0, 342450.0,
       342600.0, 342750.0, 342900.0, 343050.0, 343200.0, 343350.0, 343500.0,
       343650.0, 343800.0, 343950.0, 344100.0, 344250.0],
      dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-bc56165f-e326-4caf-be23-a6f336ae933f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-bc56165f-e326-4caf-be23-a6f336ae933f' class='xr-section-summary' >Attributes: <span>(8)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>transform :</span></dt><dd>[ 1.500000e+02  0.000000e+00  3.323250e+05  0.000000e+00 -1.500000e+02
  4.309275e+06]</dd><dt><span>crs :</span></dt><dd>+init=epsg:32611</dd><dt><span>res :</span></dt><dd>[150. 150.]</dd><dt><span>is_tiled :</span></dt><dd>0</dd><dt><span>nodatavals :</span></dt><dd>nan</dd><dt><span>scales :</span></dt><dd>1.0</dd><dt><span>offsets :</span></dt><dd>0.0</dd><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_crop_image</span> <span class="o">=</span> <span class="n">landsat_5_crop</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">image</span><span class="p">(</span><span class="n">geo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tiles</span><span class="o">=</span><span class="s1">&#39;ESRI&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.7</span><span class="p">)</span>
<span class="n">landsat_5_crop_image</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/runner/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/geoviews/operation/__init__.py:14: HoloviewsDeprecationWarning: &#39;ResamplingOperation&#39; is deprecated and will be removed in version 1.18, use &#39;ResampleOperation2D&#39; instead.
  from holoviews.operation.datashader import (
</pre></div>
</div>
<div class="output text_html"><div id='1004'>
  <div class="bk-root" id="86c86894-a55d-4011-8876-e3ad9ae6739a" data-root-id="1004"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"a2af0c4e-f7e4-4bbe-b5bf-3f8b083cb351":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"GridStack1","overrides":[],"properties":[{"default":"warn","kind":null,"name":"mode"},{"default":null,"kind":null,"name":"ncols"},{"default":null,"kind":null,"name":"nrows"},{"default":true,"kind":null,"name":"allow_resize"},{"default":true,"kind":null,"name":"allow_drag"},{"default":[],"kind":null,"name":"state"}]},{"extends":null,"module":null,"name":"click1","overrides":[],"properties":[{"default":"","kind":null,"name":"terminal_output"},{"default":"","kind":null,"name":"debug_name"},{"default":0,"kind":null,"name":"clears"}]},{"extends":null,"module":null,"name":"NotificationAreaBase1","overrides":[],"properties":[{"default":"bottom-right","kind":null,"name":"position"},{"default":0,"kind":null,"name":"_clear"}]},{"extends":null,"module":null,"name":"NotificationArea1","overrides":[],"properties":[{"default":[],"kind":null,"name":"notifications"},{"default":"bottom-right","kind":null,"name":"position"},{"default":0,"kind":null,"name":"_clear"},{"default":[{"background":"#ffc107","icon":{"className":"fas fa-exclamation-triangle","color":"white","tagName":"i"},"type":"warning"},{"background":"#007bff","icon":{"className":"fas fa-info-circle","color":"white","tagName":"i"},"type":"info"}],"kind":null,"name":"types"}]},{"extends":null,"module":null,"name":"Notification","overrides":[],"properties":[{"default":null,"kind":null,"name":"background"},{"default":3000,"kind":null,"name":"duration"},{"default":null,"kind":null,"name":"icon"},{"default":"","kind":null,"name":"message"},{"default":null,"kind":null,"name":"notification_type"},{"default":false,"kind":null,"name":"_destroyed"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]}],"roots":{"references":[{"attributes":{},"id":"1054","type":"AllLabels"},{"attributes":{"below":[{"id":"1029"}],"center":[{"id":"1032"},{"id":"1036"}],"frame_height":300,"frame_width":298,"height":null,"left":[{"id":"1033"}],"margin":[5,5,5,5],"match_aspect":true,"min_border_bottom":10,"min_border_left":10,"min_border_right":10,"min_border_top":10,"output_backend":"webgl","renderers":[{"id":"1077"},{"id":"1091"}],"right":[{"id":"1094"}],"sizing_mode":"fixed","title":{"id":"1021"},"toolbar":{"id":"1041"},"width":null,"x_range":{"id":"1011"},"x_scale":{"id":"1027"},"y_range":{"id":"1012"},"y_scale":{"id":"1028"}},"id":"1020","subtype":"Figure","type":"Plot"},{"attributes":{"color_mapper":{"id":"1081"},"dh":{"field":"dh"},"dw":{"field":"dw"},"global_alpha":{"value":0.7},"image":{"field":"image"},"tags":["apply_ranges"],"x":{"field":"x"},"y":{"field":"y"}},"id":"1085","type":"Image"},{"attributes":{"code":"\n        var projections = Bokeh.require(\"core/util/projections\");\n        var x = special_vars.x\n        var y = special_vars.y\n        var coords = projections.wgs84_mercator.invert(x, y)\n        return \"\" + (coords[1]).toFixed(4)\n    "},"id":"1096","type":"CustomJSHover"},{"attributes":{"axis_label":"Longitude","coordinates":null,"formatter":{"id":"1049"},"group":null,"major_label_policy":{"id":"1054"},"ticker":{"id":"1048"}},"id":"1029","type":"LinearAxis"},{"attributes":{"zoom_on_axis":false},"id":"1015","type":"WheelZoomTool"},{"attributes":{"match_aspect":true,"overlay":{"id":"1040"}},"id":"1016","type":"BoxZoomTool"},{"attributes":{"color_mapper":{"id":"1081"},"dh":{"field":"dh"},"dw":{"field":"dw"},"global_alpha":{"value":0.7},"image":{"field":"image"},"tags":["apply_ranges"],"x":{"field":"x"},"y":{"field":"y"}},"id":"1087","type":"Image"},{"attributes":{"end":4695350.98150363,"min_interval":5,"reset_end":4695350.98150363,"reset_start":4685904.9417447075,"start":4685904.9417447075,"tags":[[["Latitude","Latitude",null]],{"autorange":false,"invert_yaxis":false}]},"id":"1012","type":"Range1d"},{"attributes":{"active_drag":{"id":"1038"},"tools":[{"id":"1015"},{"id":"1016"},{"id":"1019"},{"id":"1038"},{"id":"1039"}]},"id":"1041","type":"Toolbar"},{"attributes":{"coordinates":null,"group":null,"level":"underlay","tile_source":{"id":"1074"}},"id":"1077","type":"TileRenderer"},{"attributes":{},"id":"1103","type":"NoOverlap"},{"attributes":{"coordinates":null,"data_source":{"id":"1082"},"glyph":{"id":"1085"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1089"},"nonselection_glyph":{"id":"1087"},"selection_glyph":{"id":"1097"},"view":{"id":"1092"}},"id":"1091","type":"GlyphRenderer"},{"attributes":{"high":5449.0,"low":93.0,"nan_color":"rgba(0, 0, 0, 0)","palette":["#b3fef5","#b0fef5","#adfdf5","#a9fcf5","#a6fbf6","#a3faf6","#a0faf6","#9df9f6","#9af8f6","#97f7f6","#93f7f6","#90f6f6","#8df5f6","#8af4f7","#87f3f7","#83f2f7","#80f2f7","#7df1f7","#79f0f7","#76eff7","#73eef7","#6fedf8","#6cecf8","#68ecf8","#65ebf8","#61eaf8","#5ee9f8","#5ae8f8","#57e7f8","#53e6f8","#50e5f9","#4ce4f9","#49e3f9","#45e2f9","#42e1f9","#3ee0f9","#3bdff9","#38def9","#35ddf9","#32dcf9","#30dbfa","#2ed9fa","#2dd8fa","#2cd7fa","#2bd6fa","#2bd5fa","#2ad3fa","#2ad2fa","#29d1fa","#29d0fb","#29cffb","#28cdfb","#28ccfb","#28cbfb","#28cafb","#28c8fb","#28c7fb","#29c6fb","#29c5fb","#29c4fb","#29c2fb","#2ac1fb","#2ac0fb","#2bbffb","#2bbdfc","#2cbcfc","#2dbbfc","#2db9fc","#2eb8fc","#2fb7fc","#2fb6fc","#30b4fc","#31b3fc","#32b2fc","#32b0fc","#33affc","#33aefc","#34adfc","#34abfc","#34aafc","#35a9fc","#35a8fc","#35a6fc","#35a5fc","#35a4fc","#35a3fc","#35a1fc","#35a0fc","#359ffc","#359dfc","#359cfc","#359bfc","#349afd","#3498fd","#3497fd","#3396fd","#3395fd","#3293fd","#3292fd","#3191fd","#3090fd","#308ffd","#2f8dfd","#2f8cfd","#2e8bfd","#2e8afd","#2d88fd","#2d87fd","#2c86fd","#2c84fd","#2c83fd","#2c82fd","#2b81fd","#2b7ffd","#2b7efd","#2b7dfd","#2b7bfd","#2b7afd","#2b79fd","#2b77fd","#2b76fd","#2b75fd","#2b73fd","#2c72fd","#2c71fd","#2c6ffd","#2c6efd","#2d6cfd","#2d6bfd","#2d6afc","#2e68fc","#2e67fc","#2e65fc","#2e64fc","#2f62fc","#2f61fc","#2f5ffc","#2f5efc","#2f5dfc","#2f5bfc","#2f5afc","#2f58fb","#2f57fb","#2f55fb","#2f53fb","#2f52fb","#2f50fb","#2f4ffb","#2f4dfb","#2e4cfb","#2e4afb","#2e48fb","#2e47fa","#2d45fa","#2d43fa","#2d42fa","#2d40fa","#2c3efa","#2c3dfa","#2b3bf9","#2b39f9","#2a37f9","#2a36f8","#2934f8","#2832f7","#2831f7","#272ff6","#262ef5","#252cf5","#252af4","#2429f3","#2327f2","#2226f1","#2124f0","#2023ef","#1f22ee","#1e20ed","#1d1feb","#1c1eea","#1b1ce9","#1a1be7","#181ae6","#1719e5","#1618e3","#1417e1","#1316e0","#1215de","#1014dc","#0f13db","#0e12d9","#0d11d7","#0c10d5","#0b0fd3","#0a0ed1","#090dd0","#080dce","#080ccc","#070bca","#070ac8","#0709c6","#0708c4","#0707c2","#0707bf","#0806bd","#0806bb","#0905b9","#0904b7","#0a04b5","#0a04b2","#0b03b0","#0c03ae","#0d02ab","#0e02a9","#0e02a7","#0f02a4","#0f01a2","#1001a0","#10019d","#10019b","#100199","#100197","#100194","#0f0192","#0f0190","#0f018e","#0e018b","#0e0189","#0d0187","#0d0185","#0c0183","#0b0181","#0b017e","#0a017c","#09017a","#090178","#080276","#070274","#060272","#060270","#05026e","#04026c","#030269","#030267","#020265","#010263","#010261","#00025f","#00025d","#00025b","#000259","#000257","#000255","#000154","#000152","#000150","#00004e"]},"id":"1081","type":"LinearColorMapper"},{"attributes":{"dimension":"lon"},"id":"1048","type":"MercatorTicker"},{"attributes":{},"id":"1105","type":"UnionRenderers"},{"attributes":{"dimension":"lat"},"id":"1050","type":"MercatorTicker"},{"attributes":{"color_mapper":{"id":"1081"},"dh":{"field":"dh"},"dw":{"field":"dw"},"global_alpha":{"value":0.7},"image":{"field":"image"},"tags":["apply_ranges"],"x":{"field":"x"},"y":{"field":"y"}},"id":"1097","type":"Image"},{"attributes":{"color_mapper":{"id":"1081"},"dh":{"field":"dh"},"dw":{"field":"dw"},"global_alpha":{"value":0.7},"image":{"field":"image"},"tags":["apply_ranges"],"x":{"field":"x"},"y":{"field":"y"}},"id":"1089","type":"Image"},{"attributes":{"attribution":"&copy; <a href=\"http://downloads.esri.com/ArcGISOnline/docs/tou_summary.pdf\">Esri</a>, Earthstar Geographics","url":"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{Z}/{Y}/{X}.jpg"},"id":"1074","type":"WMTSTileSource"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1040","type":"BoxAnnotation"},{"attributes":{"axis":{"id":"1033"},"coordinates":null,"dimension":1,"grid_line_color":null,"group":null,"ticker":null},"id":"1036","type":"Grid"},{"attributes":{"data":{"dh":[7871.6997991018],"dw":[7839.596606954932],"image":[{"__ndarray__":"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","dtype":"float64","order":"little","shape":[40,40]}],"x":[-13231661.616325084],"y":[4686692.111724618]},"selected":{"id":"1083"},"selection_policy":{"id":"1105"}},"id":"1082","type":"ColumnDataSource"},{"attributes":{},"id":"1093","type":"BasicTicker"},{"attributes":{},"id":"1027","type":"LinearScale"},{"attributes":{"callback":null,"formatters":{"$x":{"id":"1095"},"$y":{"id":"1096"}},"renderers":[{"id":"1091"}],"tags":["hv_created"],"tooltips":[["x","$x{custom}"],["y","$y{custom}"],["value","@image"]]},"id":"1019","type":"HoverTool"},{"attributes":{"axis_label":"Latitude","coordinates":null,"formatter":{"id":"1051"},"group":null,"major_label_policy":{"id":"1061"},"ticker":{"id":"1050"}},"id":"1033","type":"LinearAxis"},{"attributes":{"bar_line_color":"black","color_mapper":{"id":"1081"},"coordinates":null,"group":null,"label_standoff":8,"location":[0,0],"major_label_policy":{"id":"1103"},"major_tick_line_color":"black","ticker":{"id":"1093"}},"id":"1094","type":"ColorBar"},{"attributes":{"dimension":"lon"},"id":"1049","type":"MercatorTickFormatter"},{"attributes":{},"id":"1061","type":"AllLabels"},{"attributes":{"dimension":"lat"},"id":"1051","type":"MercatorTickFormatter"},{"attributes":{},"id":"1083","type":"Selection"},{"attributes":{"coordinates":null,"group":null,"text":"band = 5","text_color":"black","text_font_size":"12pt"},"id":"1021","type":"Title"},{"attributes":{"code":"\n        var projections = Bokeh.require(\"core/util/projections\");\n        var x = special_vars.x\n        var y = special_vars.y\n        var coords = projections.wgs84_mercator.invert(x, y)\n        return \"\" + (coords[0]).toFixed(4)\n    "},"id":"1095","type":"CustomJSHover"},{"attributes":{"children":[{"id":"1020"}],"margin":[0,0,0,0],"name":"Row01517","sizing_mode":"fixed","tags":["embedded"]},"id":"1004","type":"Row"},{"attributes":{},"id":"1028","type":"LinearScale"},{"attributes":{"end":-13223041.257283987,"min_interval":5,"reset_end":-13223041.257283987,"reset_start":-13232442.378759226,"start":-13232442.378759226,"tags":[[["Longitude","Longitude",null]],[]]},"id":"1011","type":"Range1d"},{"attributes":{"source":{"id":"1082"}},"id":"1092","type":"CDSView"},{"attributes":{},"id":"1038","type":"PanTool"},{"attributes":{"axis":{"id":"1029"},"coordinates":null,"grid_line_color":null,"group":null,"ticker":null},"id":"1032","type":"Grid"},{"attributes":{},"id":"1039","type":"ResetTool"}],"root_ids":["1004"]},"title":"Bokeh Application","version":"2.4.3"}};
    var render_items = [{"docid":"a2af0c4e-f7e4-4bbe-b5bf-3f8b083cb351","root_ids":["1004"],"roots":{"1004":"86c86894-a55d-4011-8876-e3ad9ae6739a"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
    for (const render_item of render_items) {
      for (const root_id of render_item.root_ids) {
	const id_el = document.getElementById(root_id)
	if (id_el.children.length && (id_el.children[0].className === 'bk-root')) {
	  const root_el = id_el.children[0]
	  root_el.id = root_el.id + '-rendered'
	}
      }
    }
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 200) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 25, root)
  }
})(window);</script></div></div>
</div>
<p>This image is just a cropped portion of a Landsat tile, solely for demonstration of loading with xarray. Also, as we learned in the last notebook, as long as the data has a valid <code class="docutils literal notranslate"><span class="pre">crs</span></code> attribute, passing <code class="docutils literal notranslate"><span class="pre">geo=True</span></code> to <a class="reference external" href="https://hvplot.holoviz.org/user_guide/Geographic_Data.html">hvPlot</a> will plot the data in a geographic coordinate system, allowing us to use the <code class="docutils literal notranslate"><span class="pre">tiles</span></code> option to overlay the plot on top of map tiles.</p>
</section>
<section id="loading-data-of-any-size-and-location-using-intake">
<h2>Loading data of any size and location using Intake<a class="headerlink" href="#loading-data-of-any-size-and-location-using-intake" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<p>Even if your current data files are local, earth science data is often complex, remote, and large, so it’s a good idea to become familiar with an approach that can handle data of nearly any complexity, location, and size. For this reason, we will demonstrate a couple different approaches of the <a class="reference external" href="https://intake.readthedocs.io">Intake</a> library.</p>
<p>First, we will start with a simpler case of reading the same local tabular file as above with Pandas. Then we will progressively cover more complex cases, such as loading multiple files and loading gridded data from a remote location with an Intake catalog.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_csv</span><span class="p">(</span><span class="s1">&#39;./data/landsat5_bands.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Importantly, the data is not loaded yet - <code class="docutils literal notranslate"><span class="pre">open_csv</span></code> only accesses the metadata:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>csv:
  args:
    urlpath: ./data/landsat5_bands.csv
  description: &#39;&#39;
  driver: intake.source.csv.CSVSource
  metadata: {}
</pre></div>
</div>
</div>
</div>
<p>We can also peak at what format the data will be in when it gets loaded using <code class="docutils literal notranslate"><span class="pre">.container</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">container</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;dataframe&#39;
</pre></div>
</div>
</div>
</div>
<p>Now, to get better insight into the data without loading it all in just yet, we can inspect the data using <code class="docutils literal notranslate"><span class="pre">.to_dask()</span></code>. You could also use <code class="docutils literal notranslate"><span class="pre">.read_chunked()</span></code> to return an iterator over the chunks (or partitions) of data. Refer to the <a class="reference external" href="https://intake.readthedocs.io/en/latest/quickstart.html?highlight=read_chunked#reading-data">‘Reading Data’</a> Intake documentation for more information about these options.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dd</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_dask</span><span class="p">()</span>
<span class="n">dd</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">dd</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_dask</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">dd</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/source/csv.py:32,</span> in <span class="ni">CSVSource.to_dask</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">31</span> <span class="k">def</span> <span class="nf">to_dask</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">32</span>     <span class="k">return</span> <span class="n">DaskCSV</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/readers/readers.py:96,</span> in <span class="ni">BaseReader.read</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">94</span> <span class="n">kw</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">95</span> <span class="n">args</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">,</span> <span class="p">())</span> <span class="ow">or</span> <span class="n">args</span>
<span class="ne">---&gt; </span><span class="mi">96</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/readers/readers.py:151,</span> in <span class="ni">FileReader._read</span><span class="nt">(self, data, **kw)</span>
<span class="g g-Whitespace">    </span><span class="mi">149</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_options</span> <span class="ow">and</span> <span class="n">data</span><span class="o">.</span><span class="n">storage_options</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">150</span>     <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">storage_options</span>
<span class="ne">--&gt; </span><span class="mi">151</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_func</span><span class="p">(</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>

<span class="ne">TypeError</span>: read_csv() missing 1 required positional argument: &#39;path&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dd</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">dd</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

<span class="ne">NameError</span>: name &#39;dd&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Notice that now running <code class="docutils literal notranslate"><span class="pre">.info()</span></code> gives us a lot less information than when we loaded the data earlier using <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code>, this is because the <code class="docutils literal notranslate"><span class="pre">Dask</span></code> representation of the data only loads what it needs, when it is needed for a computation. However, you can always explicitly load all the data into memory using <code class="docutils literal notranslate"><span class="pre">.read()</span></code> (but be careful to only run this on a dataset that will fit on your computer’s memory). Our sample dataset is very small, so let’s try it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 7 entries, 0 to 6
Data columns (total 3 columns):
 #   Column        Non-Null Count  Dtype 
---  ------        --------------  ----- 
 0   Band          7 non-null      int64 
 1    Description  7 non-null      object
 2    Range (nm)   7 non-null      object
dtypes: int64(1), object(2)
memory usage: 296.0+ bytes
</pre></div>
</div>
</div>
</div>
<section id="loading-multiple-local-files">
<h3>Loading multiple local files<a class="headerlink" href="#loading-multiple-local-files" title="Link to this heading"><i class="fas fa-link"></i></a></h3>
<p>Intake also lets the user load and concatenate data across multiple files in one command</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_csv</span><span class="p">([</span><span class="s1">&#39;./data/landsat5_bands.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;./data/landsat8_bands.csv&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>If the data file names allow, this can be more simply expressed using <code class="docutils literal notranslate"><span class="pre">*</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_csv</span><span class="p">(</span><span class="s1">&#39;./data/landsat*_bands.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">df</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/source/csv.py:35,</span> in <span class="ni">CSVSource.read</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">34</span> <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">35</span>     <span class="k">return</span> <span class="n">PandasCSV</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/readers/readers.py:96,</span> in <span class="ni">BaseReader.read</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">94</span> <span class="n">kw</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">95</span> <span class="n">args</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">,</span> <span class="p">())</span> <span class="ow">or</span> <span class="n">args</span>
<span class="ne">---&gt; </span><span class="mi">96</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/readers/readers.py:151,</span> in <span class="ni">FileReader._read</span><span class="nt">(self, data, **kw)</span>
<span class="g g-Whitespace">    </span><span class="mi">149</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_options</span> <span class="ow">and</span> <span class="n">data</span><span class="o">.</span><span class="n">storage_options</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">150</span>     <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">storage_options</span>
<span class="ne">--&gt; </span><span class="mi">151</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_func</span><span class="p">(</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/parsers/readers.py:1026,</span> in <span class="ni">read_csv</span><span class="nt">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, date_format, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options, dtype_backend)</span>
<span class="g g-Whitespace">   </span><span class="mi">1013</span> <span class="n">kwds_defaults</span> <span class="o">=</span> <span class="n">_refine_defaults_read</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1014</span>     <span class="n">dialect</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1015</span>     <span class="n">delimiter</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1022</span>     <span class="n">dtype_backend</span><span class="o">=</span><span class="n">dtype_backend</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1023</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1024</span> <span class="n">kwds</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwds_defaults</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1026</span> <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/parsers/readers.py:620,</span> in <span class="ni">_read</span><span class="nt">(filepath_or_buffer, kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">617</span> <span class="n">_validate_names</span><span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">619</span> <span class="c1"># Create the parser.</span>
<span class="ne">--&gt; </span><span class="mi">620</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">622</span> <span class="k">if</span> <span class="n">chunksize</span> <span class="ow">or</span> <span class="n">iterator</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">623</span>     <span class="k">return</span> <span class="n">parser</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/parsers/readers.py:1620,</span> in <span class="ni">TextFileReader.__init__</span><span class="nt">(self, f, engine, **kwds)</span>
<span class="g g-Whitespace">   </span><span class="mi">1617</span>     <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">1619</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="p">:</span> <span class="n">IOHandles</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="ne">-&gt; </span><span class="mi">1620</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_engine</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/parsers/readers.py:1880,</span> in <span class="ni">TextFileReader._make_engine</span><span class="nt">(self, f, engine)</span>
<span class="g g-Whitespace">   </span><span class="mi">1878</span>     <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1879</span>         <span class="n">mode</span> <span class="o">+=</span> <span class="s2">&quot;b&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1880</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="o">=</span> <span class="n">get_handle</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1881</span>     <span class="n">f</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1882</span>     <span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1883</span>     <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1884</span>     <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compression&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1885</span>     <span class="n">memory_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;memory_map&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1886</span>     <span class="n">is_text</span><span class="o">=</span><span class="n">is_text</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1887</span>     <span class="n">errors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding_errors&quot;</span><span class="p">,</span> <span class="s2">&quot;strict&quot;</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1888</span>     <span class="n">storage_options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;storage_options&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1889</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1890</span> <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="g g-Whitespace">   </span><span class="mi">1891</span> <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="o">.</span><span class="n">handle</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/common.py:873,</span> in <span class="ni">get_handle</span><span class="nt">(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">868</span> <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">869</span>     <span class="c1"># Check whether the filename is to be opened in binary mode.</span>
<span class="g g-Whitespace">    </span><span class="mi">870</span>     <span class="c1"># Binary mode does not support &#39;encoding&#39; and &#39;newline&#39;.</span>
<span class="g g-Whitespace">    </span><span class="mi">871</span>     <span class="k">if</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">872</span>         <span class="c1"># Encoding</span>
<span class="ne">--&gt; </span><span class="mi">873</span>         <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">874</span>             <span class="n">handle</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">875</span>             <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">876</span>             <span class="n">encoding</span><span class="o">=</span><span class="n">ioargs</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">877</span>             <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">878</span>             <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">879</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">880</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">881</span>         <span class="c1"># Binary mode</span>
<span class="g g-Whitespace">    </span><span class="mi">882</span>         <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;./data/landsat*_bands.csv&#39;
</pre></div>
</div>
</div>
</div>
<p>But sometimes there is data encoded in a file name or path that causes concatenated data to lose some important context. In this example, we lose the information about which version of landsat the training was done on (5 vs 8). To keep track of that information, we can use a <a class="reference external" href="https://docs.python.org/3/library/string.html#format-string-syntax">python format string</a> <code class="docutils literal notranslate"><span class="pre">{variable:type}</span></code> to specify our path and declare a new field on our data. That field will get populated based on its value in the path.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_csv</span><span class="p">(</span><span class="s1">&#39;./data/landsat</span><span class="si">{Landsat:d}</span><span class="s1">_bands.csv&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;Landsat&#39;</span><span class="p">,</span> <span class="s1">&#39;Band&#39;</span><span class="p">])</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">ds</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_csv</span><span class="p">(</span><span class="s1">&#39;./data/landsat</span><span class="si">{Landsat:d}</span><span class="s1">_bands.csv&#39;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">df</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;Landsat&#39;</span><span class="p">,</span> <span class="s1">&#39;Band&#39;</span><span class="p">])</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">df</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/source/csv.py:35,</span> in <span class="ni">CSVSource.read</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">34</span> <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">35</span>     <span class="k">return</span> <span class="n">PandasCSV</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/readers/readers.py:96,</span> in <span class="ni">BaseReader.read</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">94</span> <span class="n">kw</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">95</span> <span class="n">args</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">,</span> <span class="p">())</span> <span class="ow">or</span> <span class="n">args</span>
<span class="ne">---&gt; </span><span class="mi">96</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/readers/readers.py:151,</span> in <span class="ni">FileReader._read</span><span class="nt">(self, data, **kw)</span>
<span class="g g-Whitespace">    </span><span class="mi">149</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_options</span> <span class="ow">and</span> <span class="n">data</span><span class="o">.</span><span class="n">storage_options</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">150</span>     <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">storage_options</span>
<span class="ne">--&gt; </span><span class="mi">151</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_func</span><span class="p">(</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/parsers/readers.py:1026,</span> in <span class="ni">read_csv</span><span class="nt">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, date_format, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options, dtype_backend)</span>
<span class="g g-Whitespace">   </span><span class="mi">1013</span> <span class="n">kwds_defaults</span> <span class="o">=</span> <span class="n">_refine_defaults_read</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1014</span>     <span class="n">dialect</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1015</span>     <span class="n">delimiter</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1022</span>     <span class="n">dtype_backend</span><span class="o">=</span><span class="n">dtype_backend</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1023</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1024</span> <span class="n">kwds</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwds_defaults</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1026</span> <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/parsers/readers.py:620,</span> in <span class="ni">_read</span><span class="nt">(filepath_or_buffer, kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">617</span> <span class="n">_validate_names</span><span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">619</span> <span class="c1"># Create the parser.</span>
<span class="ne">--&gt; </span><span class="mi">620</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">622</span> <span class="k">if</span> <span class="n">chunksize</span> <span class="ow">or</span> <span class="n">iterator</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">623</span>     <span class="k">return</span> <span class="n">parser</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/parsers/readers.py:1620,</span> in <span class="ni">TextFileReader.__init__</span><span class="nt">(self, f, engine, **kwds)</span>
<span class="g g-Whitespace">   </span><span class="mi">1617</span>     <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">1619</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="p">:</span> <span class="n">IOHandles</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="ne">-&gt; </span><span class="mi">1620</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_engine</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/parsers/readers.py:1880,</span> in <span class="ni">TextFileReader._make_engine</span><span class="nt">(self, f, engine)</span>
<span class="g g-Whitespace">   </span><span class="mi">1878</span>     <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1879</span>         <span class="n">mode</span> <span class="o">+=</span> <span class="s2">&quot;b&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1880</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="o">=</span> <span class="n">get_handle</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1881</span>     <span class="n">f</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1882</span>     <span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1883</span>     <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1884</span>     <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compression&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1885</span>     <span class="n">memory_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;memory_map&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1886</span>     <span class="n">is_text</span><span class="o">=</span><span class="n">is_text</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1887</span>     <span class="n">errors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding_errors&quot;</span><span class="p">,</span> <span class="s2">&quot;strict&quot;</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1888</span>     <span class="n">storage_options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;storage_options&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1889</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1890</span> <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="g g-Whitespace">   </span><span class="mi">1891</span> <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="o">.</span><span class="n">handle</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/pandas/io/common.py:873,</span> in <span class="ni">get_handle</span><span class="nt">(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">868</span> <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">869</span>     <span class="c1"># Check whether the filename is to be opened in binary mode.</span>
<span class="g g-Whitespace">    </span><span class="mi">870</span>     <span class="c1"># Binary mode does not support &#39;encoding&#39; and &#39;newline&#39;.</span>
<span class="g g-Whitespace">    </span><span class="mi">871</span>     <span class="k">if</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">872</span>         <span class="c1"># Encoding</span>
<span class="ne">--&gt; </span><span class="mi">873</span>         <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">874</span>             <span class="n">handle</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">875</span>             <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">876</span>             <span class="n">encoding</span><span class="o">=</span><span class="n">ioargs</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">877</span>             <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">878</span>             <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">879</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">880</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">881</span>         <span class="c1"># Binary mode</span>
<span class="g g-Whitespace">    </span><span class="mi">882</span>         <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;./data/landsat{Landsat:d}_bands.csv&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="loading-remote-data-with-a-catalog">
<h3>Loading remote data with a catalog<a class="headerlink" href="#loading-remote-data-with-a-catalog" title="Link to this heading"><i class="fas fa-link"></i></a></h3>
<p>Probably the most versatile and reproducible approach to loading data with Intake is to use a simple Catalog file to declare how the data should be loaded. The catalog lays out how the data should be loaded, defines some metadata, and specifies any patterns in the file path that should be included in the data. Here is an example of an entry in a catalog YAML file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">landsat_5_small</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Small version of Landsat 5 Surface Reflectance Level-2 Science Product.</span>
<span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rasterio</span>
<span class="w">    </span><span class="nt">cache</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">argkey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">urlpath</span>
<span class="w">        </span><span class="nt">regex</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;earth-data/landsat&#39;</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file</span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span>
<span class="w">      </span><span class="nt">urlpath</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;s3://earth-data/landsat/small/LT05_L1TP_042033_19881022_20161001_01_T1_sr_band{band:d}.tif&#39;</span>
<span class="w">      </span><span class="nt">chunks</span><span class="p">:</span>
<span class="w">        </span><span class="nt">band</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">        </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
<span class="w">        </span><span class="nt">y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
<span class="w">      </span><span class="nt">concat_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">band</span>
<span class="w">      </span><span class="nt">storage_options</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="s">&#39;anon&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">True</span><span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">urlpath</span></code> can be a path to a file, list of files, or a path with <a class="reference external" href="https://en.wikipedia.org/wiki/Glob_(programming)">glob</a> notation. Alternatively, the path can be written as a python style <a class="reference external" href="https://docs.python.org/3/library/string.html#format-string-syntax">format_string</a>. In the case where the <code class="docutils literal notranslate"><span class="pre">urlpath</span></code> is a format string (for example, <code class="docutils literal notranslate"><span class="pre">{band:d}</span></code>), the fields specified in that string will be parsed from the filenames and returned in the data.</p>
<p>Let’s look at what our catalog contains using <code class="docutils literal notranslate"><span class="pre">open_catalog</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_catalog</span><span class="p">(</span><span class="s1">&#39;./data/catalog.yml&#39;</span><span class="p">)</span>
<span class="nb">list</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;landsat_5_small&#39;,
 &#39;landsat_8_small&#39;,
 &#39;landsat_5&#39;,
 &#39;landsat_8&#39;,
 &#39;google_landsat_band&#39;,
 &#39;amazon_landsat_band&#39;,
 &#39;fluxnet_daily&#39;,
 &#39;fluxnet_metadata&#39;,
 &#39;seattle_lidar&#39;]
</pre></div>
</div>
</div>
</div>
<p>Here, we see a list of datasets specified by the catalog.yml file. Lets’s look at a <code class="docutils literal notranslate"><span class="pre">description</span></code> and the <code class="docutils literal notranslate"><span class="pre">urlpath</span></code> for one of them:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">description</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Small version of Landsat 5 Surface Reflectance Level-2 Science Product.&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">container</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;xarray&#39;
</pre></div>
</div>
</div>
</div>
<p>From <code class="docutils literal notranslate"><span class="pre">.container</span></code> we can see that ultimately the data will be an xarray object</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">urlpath</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;s3://earth-data/landsat/small/LT05_L1TP_042033_19881022_20161001_01_T1_sr_band{band:d}.tif&#39;
</pre></div>
</div>
</div>
</div>
<p>From the <code class="docutils literal notranslate"><span class="pre">urlpath</span></code> we can see that this dataset is hosted remotely on Amazon S3</p>
<p>Let’s preview this dataset using <code class="docutils literal notranslate"><span class="pre">.to_dask()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span>
<span class="n">landsat_5</span><span class="o">.</span><span class="n">to_dask</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">landsat_5</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">landsat_5</span><span class="o">.</span><span class="n">to_dask</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/base.py:69,</span> in <span class="ni">DataSourceMixin.to_dask</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">67</span> <span class="k">def</span> <span class="nf">to_dask</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">68</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return xarray object where variables are dask arrays&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">69</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_chunked</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/base.py:44,</span> in <span class="ni">DataSourceMixin.read_chunked</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">42</span> <span class="k">def</span> <span class="nf">read_chunked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">43</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return xarray object (which will have chunks)&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">44</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_load_metadata</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">45</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/source/base.py:84,</span> in <span class="ni">DataSourceBase._load_metadata</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">82</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;load metadata only if needed&quot;&quot;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">83</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">84</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">85</span>     <span class="bp">self</span><span class="o">.</span><span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">dtype</span>
<span class="g g-Whitespace">     </span><span class="mi">86</span>     <span class="bp">self</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">shape</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:102,</span> in <span class="ni">RasterIOSource._get_schema</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span> <span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_cache</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">102</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_open_dataset</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="n">ds2</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">({</span><span class="s1">&#39;raster&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span><span class="p">})</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span>     <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span>         <span class="s1">&#39;dims&#39;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ds2</span><span class="o">.</span><span class="n">dims</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">107</span>         <span class="s1">&#39;data_vars&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">ds2</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">110</span>         <span class="s1">&#39;array&#39;</span><span class="p">:</span> <span class="s1">&#39;raster&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">111</span>     <span class="p">}</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:90,</span> in <span class="ni">RasterIOSource._open_dataset</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">88</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open_files</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">89</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">90</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">91</span>                                 <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span>

<span class="ne">AttributeError</span>: module &#39;xarray&#39; has no attribute &#39;open_rasterio&#39;
</pre></div>
</div>
</div>
</div>
<p>From this information we can see that there are three dimensions with coordinates <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <code class="docutils literal notranslate"><span class="pre">band</span></code>. This is satellite data where the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are spatial earth coordinates and the <code class="docutils literal notranslate"><span class="pre">band</span></code> refers to the wavelength range of light used to capture the satellite image.</p>
</section>
<section id="visualizing-the-data">
<h3>Visualizing the data<a class="headerlink" href="#visualizing-the-data" title="Link to this heading"><i class="fas fa-link"></i></a></h3>
<p>Often, data ingestion involves quickly visualizing your raw data to get a sense that things are proceeding accordingly. You have already seen how we can easily use <a class="reference external" href="https://hvplot.pyviz.org/">hvPlot</a> for bare xarray data, but hvPlot also provides interactive plotting commands for Intake, Pandas, Dask, and GeoPandas objects. We’ll look more closely at hvPlot and its options in later tutorials.</p>
<p>For now, let’s just plot out our different band images as columns (using <code class="docutils literal notranslate"><span class="pre">col='band'</span></code>). We can also set <code class="docutils literal notranslate"><span class="pre">rasterize=True</span></code> to use <a class="reference external" href="https://datashader.org/">Datashader</a> (another HoloViz tool) to render large data into a 2D histogram, where every array cell counts the data points falling into that pixel, as set by the resolution of your screen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">image</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="s1">&#39;band&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">xaxis</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">yaxis</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">rasterize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">landsat_5</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">image</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="s1">&#39;band&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">xaxis</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">yaxis</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">rasterize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="ne">AttributeError</span>: &#39;RasterIOSource&#39; object has no attribute &#39;hvplot&#39;
</pre></div>
</div>
</div>
</div>
<p>Hint: Try zooming in on one plot to see that they are all linked!</p>
<p>If we increase the complexity a bit and consider the likely situation where you are constantly loading and visualizing a similar type of data using an Intake catalog, you can instead just declare plotting parameters directly into the catalog!</p>
<p>Here is the relevant part of our <code class="docutils literal notranslate"><span class="pre">catalog.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">plots</span><span class="p">:</span>
<span class="w">    </span><span class="nt">band_image</span><span class="p">:</span>
<span class="w">      </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;image&#39;</span>
<span class="w">      </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;x&#39;</span>
<span class="w">      </span><span class="nt">y</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;y&#39;</span>
<span class="w">      </span><span class="nt">groupby</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;band&#39;</span>
<span class="w">      </span><span class="nt">rasterize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">      </span><span class="nt">width</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">400</span>
<span class="w">      </span><span class="nt">dynamic</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span>
<span class="n">landsat_5</span><span class="o">.</span><span class="n">to_dask</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">23</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">landsat_5</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">landsat_5</span><span class="o">.</span><span class="n">to_dask</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/base.py:69,</span> in <span class="ni">DataSourceMixin.to_dask</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">67</span> <span class="k">def</span> <span class="nf">to_dask</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">68</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return xarray object where variables are dask arrays&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">69</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_chunked</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/base.py:44,</span> in <span class="ni">DataSourceMixin.read_chunked</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">42</span> <span class="k">def</span> <span class="nf">read_chunked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">43</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return xarray object (which will have chunks)&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">44</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_load_metadata</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">45</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/source/base.py:84,</span> in <span class="ni">DataSourceBase._load_metadata</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">82</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;load metadata only if needed&quot;&quot;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">83</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">84</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">85</span>     <span class="bp">self</span><span class="o">.</span><span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">dtype</span>
<span class="g g-Whitespace">     </span><span class="mi">86</span>     <span class="bp">self</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">shape</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:102,</span> in <span class="ni">RasterIOSource._get_schema</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span> <span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_cache</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">102</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_open_dataset</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="n">ds2</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">({</span><span class="s1">&#39;raster&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span><span class="p">})</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span>     <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span>         <span class="s1">&#39;dims&#39;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ds2</span><span class="o">.</span><span class="n">dims</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">107</span>         <span class="s1">&#39;data_vars&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">ds2</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">110</span>         <span class="s1">&#39;array&#39;</span><span class="p">:</span> <span class="s1">&#39;raster&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">111</span>     <span class="p">}</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:90,</span> in <span class="ni">RasterIOSource._open_dataset</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">88</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open_files</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">89</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">90</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">91</span>                                 <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span>

<span class="ne">AttributeError</span>: module &#39;xarray&#39; has no attribute &#39;open_rasterio&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">band_image</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">landsat_5</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">band_image</span><span class="p">()</span>

<span class="ne">AttributeError</span>: &#39;RasterIOSource&#39; object has no attribute &#39;hvplot&#39;
</pre></div>
</div>
</div>
</div>
<p>Excellent! Since we didn’t specify that the images should to be plotted as columns, hvPlot conveniently gives us a widget to scrub through them.</p>
</section>
</section>
<section id="side-note-drilling-down-for-data-access">
<h2>Side-note: Drilling down for data access<a class="headerlink" href="#side-note-drilling-down-for-data-access" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<p>As part of accessing data, it’s important to understand how to drill down to different representations of our data that certain processing steps might require.</p>
<section id="numpy-array">
<h3>Numpy Array<a class="headerlink" href="#numpy-array" title="Link to this heading"><i class="fas fa-link"></i></a></h3>
<p>Earlier, we saw that if the selected data are small enough, we can load return all the data into one in-memory xarray DataArray container. Once in an DataArray object, the data can be easily manipulated and visualized. Under the hood, this xarray object is essentially comprised of NumPy arrays with the addition of coordinate labels (and <a class="reference external" href="https://docs.xarray.dev/en/latest/getting-started-guide/why-xarray.html">other superpowers</a>). However, sometimes machine learning tools (e.g. <a class="reference external" href="https://scikit-learn.org/stable/">scikit-learn</a>) only accept NumPy arrays as input. These arrays are accessible to us from the xarray DataArray objects by using the <code class="docutils literal notranslate"><span class="pre">.values</span></code> attribute.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">npa</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
<span class="nb">type</span><span class="p">(</span><span class="n">npa</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">npa</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="nb">type</span><span class="p">(</span><span class="n">npa</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/base.py:39,</span> in <span class="ni">DataSourceMixin.read</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span> <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">38</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return a version of the xarray with all the data in memory&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">39</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_load_metadata</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">40</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/source/base.py:84,</span> in <span class="ni">DataSourceBase._load_metadata</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">82</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;load metadata only if needed&quot;&quot;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">83</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">84</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">85</span>     <span class="bp">self</span><span class="o">.</span><span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">dtype</span>
<span class="g g-Whitespace">     </span><span class="mi">86</span>     <span class="bp">self</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">shape</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:102,</span> in <span class="ni">RasterIOSource._get_schema</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span> <span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_cache</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">102</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_open_dataset</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="n">ds2</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">({</span><span class="s1">&#39;raster&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span><span class="p">})</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span>     <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span>         <span class="s1">&#39;dims&#39;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ds2</span><span class="o">.</span><span class="n">dims</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">107</span>         <span class="s1">&#39;data_vars&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">ds2</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">110</span>         <span class="s1">&#39;array&#39;</span><span class="p">:</span> <span class="s1">&#39;raster&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">111</span>     <span class="p">}</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:90,</span> in <span class="ni">RasterIOSource._open_dataset</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">88</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open_files</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">89</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">90</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">91</span>                                 <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span>

<span class="ne">AttributeError</span>: module &#39;xarray&#39; has no attribute &#39;open_rasterio&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">npa</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">26</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">npa</span><span class="o">.</span><span class="n">shape</span>

<span class="ne">NameError</span>: name &#39;npa&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">npa</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">27</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">npa</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;npa&#39; is not defined
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="side-note-organizing-multiple-datasets-into-a-datatree">
<h2>Side-note: Organizing Multiple Datasets into a DataTree<a class="headerlink" href="#side-note-organizing-multiple-datasets-into-a-datatree" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<p>In addition to drilling down to NumPy Arrays for data access, we can also zoom out to use an even higher level container that an xarray Dataset. The <a class="reference external" href="https://xarray-datatree.readthedocs.io/en/latest/index.html">Datatree library</a> provides a tree-like container that can hold xarray Datasets that are organised into arbitrarily nested groups like a Python dictionary. This can come in handy if you are working with several DataSets that are <strong>not alignable</strong> (i.e. they live on different grids), but are still related to each other. For example, you may have Landsat data from different missions or on a different underlying grid/resolution. The main benefit of using a DataTree is that you can map standard xarray operations recursively over all nodes.</p>
<div class="admonition alert alert-warning">
<p class="admonition-title">Warning</p>
<p>DataTree is currently in incubation and may be upstreamed into xarray in the future. Check the status on the <a href="https://github.com/xarray-contrib/datatree">Datatree repository</a> before use</p>
</div>
<p>Let’s import datatree and load datasets from different missions that have different underlying grids, resolutions, and offsets, but cover the same lake at different times.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datatree</span> <span class="kn">import</span> <span class="n">DataTree</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ls5_da</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">ls5_da</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">29</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ls5_da</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">ls5_da</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/base.py:39,</span> in <span class="ni">DataSourceMixin.read</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span> <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">38</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return a version of the xarray with all the data in memory&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">39</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_load_metadata</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">40</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/source/base.py:84,</span> in <span class="ni">DataSourceBase._load_metadata</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">82</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;load metadata only if needed&quot;&quot;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">83</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">84</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">85</span>     <span class="bp">self</span><span class="o">.</span><span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">dtype</span>
<span class="g g-Whitespace">     </span><span class="mi">86</span>     <span class="bp">self</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">shape</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:102,</span> in <span class="ni">RasterIOSource._get_schema</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span> <span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_cache</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">102</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_open_dataset</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="n">ds2</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">({</span><span class="s1">&#39;raster&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span><span class="p">})</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span>     <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span>         <span class="s1">&#39;dims&#39;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ds2</span><span class="o">.</span><span class="n">dims</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">107</span>         <span class="s1">&#39;data_vars&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">ds2</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">110</span>         <span class="s1">&#39;array&#39;</span><span class="p">:</span> <span class="s1">&#39;raster&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">111</span>     <span class="p">}</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:90,</span> in <span class="ni">RasterIOSource._open_dataset</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">88</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open_files</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">89</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">90</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">91</span>                                 <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span>

<span class="ne">AttributeError</span>: module &#39;xarray&#39; has no attribute &#39;open_rasterio&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ls8_da</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_8_small</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">ls8_da</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ls8_da</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_8_small</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">ls8_da</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/base.py:39,</span> in <span class="ni">DataSourceMixin.read</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span> <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">38</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return a version of the xarray with all the data in memory&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">39</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_load_metadata</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">40</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake/source/base.py:84,</span> in <span class="ni">DataSourceBase._load_metadata</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">82</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;load metadata only if needed&quot;&quot;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">83</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">84</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">85</span>     <span class="bp">self</span><span class="o">.</span><span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">dtype</span>
<span class="g g-Whitespace">     </span><span class="mi">86</span>     <span class="bp">self</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">shape</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:102,</span> in <span class="ni">RasterIOSource._get_schema</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span> <span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_cache</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urlpath</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">102</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_open_dataset</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="n">ds2</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">({</span><span class="s1">&#39;raster&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span><span class="p">})</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span>     <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span>         <span class="s1">&#39;dims&#39;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ds2</span><span class="o">.</span><span class="n">dims</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">107</span>         <span class="s1">&#39;data_vars&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">ds2</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">110</span>         <span class="s1">&#39;array&#39;</span><span class="p">:</span> <span class="s1">&#39;raster&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">111</span>     <span class="p">}</span>

<span class="nn">File ~/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/intake_xarray/raster.py:90,</span> in <span class="ni">RasterIOSource._open_dataset</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">88</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open_files</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">89</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">90</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">91</span>                                 <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span>

<span class="ne">AttributeError</span>: module &#39;xarray&#39; has no attribute &#39;open_rasterio&#39;
</pre></div>
</div>
</div>
</div>
<p>These two sets of Landsat bands cover roughly the same area but were taken in 1988 and 2017. They have different resolutions, different numbers of grid cells per image, and different x and y offsets. We can see the offset by printing the first <code class="docutils literal notranslate"><span class="pre">x</span></code> value for each year and seeing that they are not equivalent.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Landsat 5 data first x coord: </span><span class="si">{</span><span class="n">ls5_da</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Landsat 8 data first x coord: </span><span class="si">{</span><span class="n">ls8_da</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">31</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Landsat 5 data first x coord: </span><span class="si">{</span><span class="n">ls5_da</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Landsat 8 data first x coord: </span><span class="si">{</span><span class="n">ls8_da</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;ls5_da&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Before we organize the data into a DataTree, let’s promote our DataArrays into DataSets. Each node of the DataTree contains exactly one xarray DataSet.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_8_ds</span> <span class="o">=</span> <span class="n">ls8_da</span><span class="o">.</span><span class="n">to_dataset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Walker Lake&#39;</span><span class="p">)</span>
<span class="n">landsat_5_ds</span> <span class="o">=</span> <span class="n">ls5_da</span><span class="o">.</span><span class="n">to_dataset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Walker Lake&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">landsat_8_ds</span> <span class="o">=</span> <span class="n">ls8_da</span><span class="o">.</span><span class="n">to_dataset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Walker Lake&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">landsat_5_ds</span> <span class="o">=</span> <span class="n">ls5_da</span><span class="o">.</span><span class="n">to_dataset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Walker Lake&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;ls8_da&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Now let’s combine our DataSets into Landsat subgroups by mission. We could arbitrarily nest these groups as our research requires.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dt</span> <span class="o">=</span> <span class="n">DataTree</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;Landsat/Mission8&quot;</span><span class="p">:</span> <span class="n">landsat_8_ds</span><span class="p">,</span> <span class="s2">&quot;Landsat/Mission5&quot;</span><span class="p">:</span> <span class="n">landsat_5_ds</span><span class="p">})</span>
<span class="n">dt</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">33</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">dt</span> <span class="o">=</span> <span class="n">DataTree</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;Landsat/Mission8&quot;</span><span class="p">:</span> <span class="n">landsat_8_ds</span><span class="p">,</span> <span class="s2">&quot;Landsat/Mission5&quot;</span><span class="p">:</span> <span class="n">landsat_5_ds</span><span class="p">})</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">dt</span>

<span class="ne">NameError</span>: name &#39;landsat_8_ds&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Now we could map operations across our Landsat DataTree nodes, even though they are misaligned.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dt</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">34</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">dt</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;dt&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>This was a very simple demonstration of DataTree. Check the <a class="reference external" href="https://xarray-datatree.readthedocs.io/en/latest/quick-overview.html">DataTree documentation</a> for a comprehensive overview.</p>
</section>
<hr class="docutils" />
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<p>Before accessing any data, it’s a good idea to start by learning about the context and details of the dataset. This will give you the intuition to make informed decisions as you form a processing and analysis pipeline. Once you have identified a dataset to use, tailor the data access approach given the features of the data, such as size and location. If your data is local and small, a reliable approach is to access the data with either Pandas or xarray, depending on whether the data is tabular or gridded. As earth science data is often large, multidimensional, and on a remote server, a powerful and increasingly common approach is to use the combination of Intake, Dask, and xarray. Once you have accessed data, visualize it with hvPlot to ensure that it matches your expectations.</p>
<section id="whats-next">
<h3>What’s next?<a class="headerlink" href="#whats-next" title="Link to this heading"><i class="fas fa-link"></i></a></h3>
<p>After loading the data, you may need to process it in some way before it can be fed into your analysis workflow. We will cover an example of such processing in the next section.</p>
</section>
</section>
<section id="resources-and-references">
<h2>Resources and references<a class="headerlink" href="#resources-and-references" title="Link to this heading"><i class="fas fa-link"></i></a></h2>
<ul class="simple">
<li><p>Authored/adapted by Demetris Roumis circa Dec, 2022</p></li>
<li><p>The Landsat 8 banner image is from <a class="reference external" href="https://www.nasa.gov/mission_pages/landsat/main/LDCM_Spacecraft_intro.html">NASA</a></p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                  </article>

                
                

                
                
                  <footer class="prev-next-footer">
                    
<div class="prev-next-area">
    <a class="left-prev"
       href="1.0_Data_Ingestion-Planetary_Computer.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Data Ingestion - Microsoft Planetary Computer</p>
      </div>
    </a>
    <a class="right-next"
       href="2.0_Preprocessing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Preprocessing - Regrid</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                  </footer>
                
              </div>

              
              
                
                  <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imports">Imports</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-local-metadata-with-pandas">Loading local metadata with Pandas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-small-and-local-data-with-xarray">Loading small and local data with xarray</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-data-of-any-size-and-location-using-intake">Loading data of any size and location using Intake</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-multiple-local-files">Loading multiple local files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-remote-data-with-a-catalog">Loading remote data with a catalog</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-the-data">Visualizing the data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#side-note-drilling-down-for-data-access">Side-note: Drilling down for data access</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-array">Numpy Array</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#side-note-organizing-multiple-datasets-into-a-datatree">Side-note: Organizing Multiple Datasets into a DataTree</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#whats-next">What’s next?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resources-and-references">Resources and references</a></li>
</ul>
  </nav></div>

</div></div>
                
              


                
                <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://binder.projectpythia.org/v2/gh/ProjectPythia/landsat-ml-cookbook/main?urlpath=lab/tree/notebooks/1.1_Data_Ingestion-Intake.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ProjectPythia/landsat-ml-cookbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ProjectPythia/landsat-ml-cookbook/edit/main/notebooks/1.1_Data_Ingestion-Intake.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ProjectPythia/landsat-ml-cookbook/issues/new?title=Issue%20on%20page%20%2Fnotebooks/1.1_Data_Ingestion-Intake.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/1.1_Data_Ingestion-Intake.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
            </div>

            <footer class="bd-footer-content">
              
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Demetris Roumis
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on 1 April 2024.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
            </footer>

        </main>
    </div>
  </div>
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
     
  
  
  
  
    <div class="footer-items__start">
      <div class="container-fluid m-0 p-0">
      
        <div class="footer-item">
  <div class="container-fluid footer-logos">
    <div class="container-xl">
      <div class="row d-flex flex-wrap align-items-center">
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="NCAR" src="../_images/NSF-NCAR_Lockup-UCAR-Dark_102523.svg" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="Unidata" src="../_images/Unidata_logo_horizontal_1200x300.svg" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="UAlbany" src="../_images/UAlbany-A2-logo-purple-gold.svg" style="width: 100%">
        </div>
      </div>
    </div>
  </div></div>
      
        <div class="footer-item">  <div class="container-fluid footer-info">
    <div class="container-xl">
      <div class="d-flex justify-content-center">
        <p class="py-1 m-0">
            &copy;&nbsp;2024.
        
          By Demetris Roumis.
        
          Last updated on 1 April 2024.
        </p>
      </div>
    </div>
  </div></div>
      
      </div>
    </div>
  

  </footer>
  </body>
</html>