
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Ingestion &#8212; Landsat ML Cookbook</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-pythia-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Preprocessing Data" href="02_Preprocessing.html" />
    <link rel="prev" title="Landsat ML Cookbook" href="../README.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-T52X8HNYE8"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-T52X8HNYE8');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="132">
    <div class="container-fluid" id="shim"></div>
    <div class="container-fluid" id="banner"></div>
    <nav class="navbar navbar-dark navbar-expand-lg bg-dark fixed-top bd-navbar shadow" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="https://projectpythia.org">
  <img src="../_static/landsat_8_rend-sm1.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org">Home</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://foundations.projectpythia.org">Foundations</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://cookbooks.projectpythia.org">Cookbooks</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org/resource-gallery.html">Resources</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org/index.html#join-us">Community</a>
  </li>
  
  
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ProjectPythiaCookbooks" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/project_pythia" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/channel/UCoZPBqJal5uKpO8ZiwzavCw" rel="noopener" target="_blank" title="YouTube">
            <span><i class="fab fa-youtube-square"></i></span>
            <label class="sr-only">YouTube</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    <div class="container-xl">
      <div class="row">
        
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Landsat ML Cookbook
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Foundations
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Data Ingestion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_Preprocessing.html">
   Preprocessing Data
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Example Workflows
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="03_Spectral_Clustering.html">
   Spectral Clustering
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by <a href="https://projectpythia.org">Project Pythia</a>.<br><br>
All code in Pythia Cookbooks is licensed under Apache 2.0. All other non-code content is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons BY 4.0 (CC BY 4.0)</a>.<br><br>

</div>

</div>

        

        <main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main"><div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/01_Data_Ingestion.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/ProjectPythiaCookbooks/cookbook-template/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/ProjectPythiaCookbooks/cookbook-template//issues/new?title=Issue%20on%20page%20%2Fnotebooks/01_Data_Ingestion.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/ProjectPythiaCookbooks/cookbook-template/edit/main/notebooks/01_Data_Ingestion.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="http://binder.mypythia.org/v2/gh/ProjectPythiaCookbooks/cookbook-template/main?urlpath=lab/tree/notebooks/01_Data_Ingestion.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> On this page
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overview">
   Overview
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prerequisites">
   Prerequisites
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#imports">
   Imports
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#about-landsat-data">
   About landsat data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-small-and-local-data-with-pandas">
   Loading small and local data with Pandas
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-small-and-local-data-with-xarray">
   Loading small and local data with xarray¶
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-data-of-any-size-and-location-using-intake">
   Loading data of any size and location using Intake
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loading-multiple-local-files">
     Loading multiple local files
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loading-remote-data-with-a-catalog">
     Loading remote data with a catalog
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualizing-the-data">
     Visualizing the data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#side-note-drilling-down-for-data-access">
   Side-note: Drilling down for data access
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#xarray-dataarray">
     Xarray DataArray
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#numpy-array">
     Numpy Array
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#whats-next">
     What’s next?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#resources-and-references">
   Resources and references
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
          <div id="main-content" class="row">
            <div class="col-12 col-md-9 pl-md-3 pr-md-0">
              
              <div>
                
  <p style="text-align: center">
<img src="./images/landsat_8_rend-sm1.png" width=250 alt="HoloViz Logo"></img>
</p><div class="tex2jax_ignore mathjax_ignore section" id="data-ingestion">
<h1>Data Ingestion<a class="headerlink" href="#data-ingestion" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<hr class="docutils" />
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>In this cookbook, you will access, process, analyze, and visualize satellite data in the context of example machine learning workflows. Machine learning tasks often involve a lot of data, and in Python, data is typically stored in memory as simple <a class="reference external" href="https://foundations.projectpythia.org/core/numpy.html">NumPy</a> arrays. However, higher-level containers built on top of NumPy arrays provide more functionality for tabular data (<a class="reference external" href="http://pandas.pydata.org">Pandas</a>), multidimensional gridded data (<a class="reference external" href="http://xarray.pydata.org">xarray</a>), or out-of-core and distributed data (<a class="reference external" href="http://dask.pydata.org">Dask</a>).</p>
<p>Likely, your approach to data access will depend not only on the intended analysis, but on features of the data, such as size and location. First, to demonstrate simple cases, we will begin by reading in a local files with Pandas and xarray. Then, as many earth science datasets are large, gridded, and stored on remote servers, we will demonstrate the combined use of <a class="reference external" href="https://intake.readthedocs.io">Intake</a> and Dask libraries to efficiently fetch data.</p>
<p>Throughout this cookbook, we will use <a class="reference external" href="https://holoviz.org/">HoloViz</a> visualization tools, such as <a class="reference external" href="https://hvplot.holoviz.org/">hvPlot</a>, <a class="reference external" href="https://geoviews.org/">GeoViews</a>, and <a class="reference external" href="https://datashader.org/">Datashader</a>, to efficiently explore and interact with the data at different steps in the pipeline.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Concepts</p></th>
<th class="head"><p>Importance</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://foundations.projectpythia.org/core/pandas.html">Pandas</a></p></td>
<td><p>Helpful</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://foundations.projectpythia.org/core/xarray.html">Xarray</a></p></td>
<td><p>Necessary</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://intake.readthedocs.io/en/latest/index.html">Intake</a></p></td>
<td><p>Necessary</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><strong>Time to learn</strong>: 20 minutes</p></li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="imports">
<h2>Imports<a class="headerlink" href="#imports" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">intake</span>
<span class="kn">import</span> <span class="nn">hvplot.intake</span>
<span class="kn">import</span> <span class="nn">hvplot.xarray</span>
<span class="n">intake</span><span class="o">.</span><span class="n">output_notebook</span><span class="p">()</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="ne">FutureWarning</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="about-landsat-data">
<h2>About landsat data<a class="headerlink" href="#about-landsat-data" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>Before we dive into loading the data, let’s review some of the key points about the dataset to build our intuition as we move toward processing and analysis.</p>
<p>The data in this cookbook come from the <a class="reference external" href="https://en.wikipedia.org/wiki/Landsat_program">Landsat</a> program, which is the longest record of moderate resolution multispectral data of the Earth’s surface. This program has launched several different satellites spanning many years which are designated as Landsat 1-9. In this cookbook, we will use data from Landsat 5 and Landsat 8. Landsat 5 was launched in 1984 and retired in 2013, while Landsat 8 was launched in 2013 and will likely continue through at least mid 2023.</p>
<p style="text-align: center">
<img src = "images/landsat_timeline.png">
</p>
<p style="text-align: center">
Source: USGS - <a href="https://www.usgs.gov/landsat-missions/landsat-satellite-missions?qt-science_support_page_related_con=2#qt-science_support_page_related_con">USGS Landsat Timeline</a>
</p>
<p>Landsat images are available from multiple sources and in different versions that have various levels of processing applied. However, a core aspect of this data is the use of different wavelength-bands to capture multiple images of the same area - together providing much more information than a single image alone. This provides us with a stack of images for each region that we might be interested, and therefore the first three dimensions for each chunk of data consist of the spatial coordinates (x and y) and the wavelength-band. Additionally, we also have a time dimension, as we will consider a stack of images from different years to look at the change in the water level around <a class="reference external" href="https://de.wikipedia.org/wiki/Walker_Lake">Walker Lake</a> in Nevada, USA.</p>
</div>
<div class="section" id="loading-small-and-local-data-with-pandas">
<h2>Loading small and local data with Pandas<a class="headerlink" href="#loading-small-and-local-data-with-pandas" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>Now that we understand a bit about the context of the data, we’ll start with the simple case of loading small local tabular data, such as a couple <code class="docutils literal notranslate"><span class="pre">.csv</span></code> files into Pandas Dataframes.</p>
<p>First, let’s load the Landsat 5 bands:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat5_bands</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/landsat5_bands.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Band&#39;</span><span class="p">)</span>
<span class="n">landsat5_bands</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s take a look at the relevant subset of Landsat 8 bands:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat8_bands</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/landsat8_bands.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Band&#39;</span><span class="p">)</span>
<span class="n">landsat8_bands</span>
</pre></div>
</div>
</div>
</div>
<p>Interestingly, we can see that the bands differ somewhat between the satellites. For example, ‘Red’ is Band-4 within Landsat 8, but Band-3 within Landsat 5. This will be important later on when we want to use the same bands from the different datasets.</p>
</div>
<div class="section" id="loading-small-and-local-data-with-xarray">
<h2>Loading small and local data with xarray¶<a class="headerlink" href="#loading-small-and-local-data-with-xarray" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>Although initiatives are underway to enhance cloud-based data workflows, at some point, it will likely be the case that you will have some local gridded data that you want to load and preview without much fuss. For this simple case, it makes sense to use an appropriately simple API. Using xarray and hvplot, we can quickly complete this task of previewing a <a class="reference external" href="https://foundations.projectpythia.org/core/data-formats/netcdf-cf.html">netCDF</a> file.</p>
<p><strong>TODO: demonstrate hvplot.explorer when released</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_crop</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataarray</span><span class="p">(</span><span class="s1">&#39;data/landsat5_crop.nc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_crop</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_crop_image</span> <span class="o">=</span> <span class="n">landsat_5_crop</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">image</span><span class="p">(</span><span class="n">geo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tiles</span><span class="o">=</span><span class="s1">&#39;ESRI&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.7</span><span class="p">)</span>
<span class="n">landsat_5_crop_image</span>
</pre></div>
</div>
</div>
</div>
<p>This image is just a cropped portion of a Landsat tile, soley for demonstration of xarray loading. Passing <code class="docutils literal notranslate"><span class="pre">geo=True</span></code> to <a class="reference external" href="https://hvplot.holoviz.org/user_guide/Geographic_Data.html">hvPlot</a> will plot the data in a geographic coordinate system, allowing us to use the <code class="docutils literal notranslate"><span class="pre">tiles</span></code> option to overlay a the plot on top of map tiles.</p>
</div>
<div class="section" id="loading-data-of-any-size-and-location-using-intake">
<h2>Loading data of any size and location using Intake<a class="headerlink" href="#loading-data-of-any-size-and-location-using-intake" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>Earth science data is often complex, so it’s a good idea to become familiar with an approach that can handle data of nearly any size and location, even if your current data files are local. For this reason, we will demonstrate a couple different approaches of the <a class="reference external" href="https://intake.readthedocs.io">Intake</a> library.</p>
<p>First, we will start with a simpler case of reading the same local tabular file as above with Pandas. Then we will progressively cover more complex cases, such as loading multiple files and loading gridded data from a remote location with an Intake catalog.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_csv</span><span class="p">(</span><span class="s1">&#39;./data/landsat5_bands.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Importantly, the data is not loaded yet. So far we only have the metadata:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training</span>
</pre></div>
</div>
</div>
</div>
<p>We can also peak at what format the data will be in when it gets loaded using <code class="docutils literal notranslate"><span class="pre">.container</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training</span><span class="o">.</span><span class="n">container</span>
</pre></div>
</div>
</div>
</div>
<p>Now, To get better insight into the data without loading it all in just yet, we can inspect the data using <code class="docutils literal notranslate"><span class="pre">.to_dask()</span></code>. You could also use <code class="docutils literal notranslate"><span class="pre">.read_chunked()</span></code> to return an iterator over the chunks (or partitions) of data. Refer to the <a class="reference external" href="https://intake.readthedocs.io/en/latest/quickstart.html?highlight=read_chunked#reading-data">‘Reading Data’</a> Intake documentation for more information about these options.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training_dd</span> <span class="o">=</span> <span class="n">training</span><span class="o">.</span><span class="n">to_dask</span><span class="p">()</span>
<span class="n">training_dd</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training_dd</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Notice that now running <code class="docutils literal notranslate"><span class="pre">.info()</span></code> gives us a lot less information than when we loaded the data earlier using <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code>, this is because the <code class="docutils literal notranslate"><span class="pre">Dask</span></code> representation of the data only loads what it needs, when it is needed for a computation. However, you can always explicitly load all the data into memory using <code class="docutils literal notranslate"><span class="pre">.read()</span></code> (but be careful to only run this on a dataset that will fit on your computer’s memory). Our sample dataset is very small, so let’s try it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training_df</span> <span class="o">=</span> <span class="n">training</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">training_df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="loading-multiple-local-files">
<h3>Loading multiple local files<a class="headerlink" href="#loading-multiple-local-files" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>Intake also lets the user load and concatenate data across multiple files in one command</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_csv</span><span class="p">([</span><span class="s1">&#39;./data/landsat5_bands.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;./data/landsat8_bands.csv&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>If the data file names allow, this can be more simply expressed using <code class="docutils literal notranslate"><span class="pre">*</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_csv</span><span class="p">(</span><span class="s1">&#39;./data/landsat*_bands.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training_df</span> <span class="o">=</span> <span class="n">training</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">training_df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>But sometimes there is data encoded in a file name or path that causes concatenated data to lose some important context. In this example, we lose the information about which version of landsat the training was done on (5 vs 8). To keep track of that information, we can use a <a class="reference external" href="https://docs.python.org/3/library/string.html#format-string-syntax">python format string</a> <code class="docutils literal notranslate"><span class="pre">{variable:type}</span></code> to specify our path and declare a new field on our data. That field will get populated based on its value in the path.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_csv</span><span class="p">(</span><span class="s1">&#39;./data/landsat</span><span class="si">{Landsat:d}</span><span class="s1">_bands.csv&#39;</span><span class="p">)</span>
<span class="n">training_df</span> <span class="o">=</span> <span class="n">training</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;Landsat&#39;</span><span class="p">,</span> <span class="s1">&#39;Band&#39;</span><span class="p">])</span>
<span class="n">training_df</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="loading-remote-data-with-a-catalog">
<h3>Loading remote data with a catalog<a class="headerlink" href="#loading-remote-data-with-a-catalog" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>Probably the most versatile and reproducible approach to loading data with Intake is to use a simple Catalog file to declare how the data should be loaded. The catalog lays out how the data should be loaded, defines some metadata, and specifies any patterns in the file path that should be included in the data. Here is an example of an entry in a catalog YAML file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sources</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">landsat_5_small</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Small version of Landsat 5 Surface Reflectance Level-2 Science Product.</span><span class="w"></span>
<span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rasterio</span><span class="w"></span>
<span class="w">    </span><span class="nt">cache</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">argkey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">urlpath</span><span class="w"></span>
<span class="w">        </span><span class="nt">regex</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;earth-data/landsat&#39;</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file</span><span class="w"></span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">urlpath</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;s3://earth-data/landsat/small/LT05_L1TP_042033_19881022_20161001_01_T1_sr_band{band:d}.tif&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">chunks</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">band</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">        </span><span class="nt">y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">      </span><span class="nt">concat_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">band</span><span class="w"></span>
<span class="w">      </span><span class="nt">storage_options</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="s">&#39;anon&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">True</span><span class="p p-Indicator">}</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">urlpath</span></code> can be a path to a file, list of files, or a path with <a class="reference external" href="https://en.wikipedia.org/wiki/Glob_(programming)">glob</a> notation. Alternatively, the path can be written as a python style <a class="reference external" href="https://docs.python.org/3/library/string.html#format-string-syntax">format_string</a>. In the case where the <code class="docutils literal notranslate"><span class="pre">urlpath</span></code> is a format string (for example, <code class="docutils literal notranslate"><span class="pre">{band:d}</span></code>) , the fields specified in that string will be parsed from the filenames and returned in the data.</p>
<p>Let’s look at what our catalog contains using <code class="docutils literal notranslate"><span class="pre">open_catalog</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_catalog</span><span class="p">(</span><span class="s1">&#39;./data/catalog.yml&#39;</span><span class="p">)</span>
<span class="nb">list</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Here, we see a list of datasets specified by the catalog.yml file. Lets’s look at a <code class="docutils literal notranslate"><span class="pre">description</span></code> and the <code class="docutils literal notranslate"><span class="pre">urlpath</span></code> for one of them:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">description</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">container</span>
</pre></div>
</div>
</div>
</div>
<p>From <code class="docutils literal notranslate"><span class="pre">.container</span></code> we can see that ultimately the data will be an xarray object</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">urlpath</span>
</pre></div>
</div>
</div>
</div>
<p>From the <code class="docutils literal notranslate"><span class="pre">urlpath</span></code> we can see that this dataset is hosted remotely on Amazon S3</p>
<p>Let’s preview this dataset using <code class="docutils literal notranslate"><span class="pre">.to_dask()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span>
<span class="n">landsat_5</span><span class="o">.</span><span class="n">to_dask</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>From this information we can see that there are three dimensions with coordinates <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <code class="docutils literal notranslate"><span class="pre">band</span></code>. This is satellite data where the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are spatial earth coordinates and the <code class="docutils literal notranslate"><span class="pre">band</span></code> refers to the wavelength range of light used to capture the satellite image.</p>
</div>
<div class="section" id="visualizing-the-data">
<h3>Visualizing the data<a class="headerlink" href="#visualizing-the-data" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>Often, data ingestion involves quickly visualizing your raw data to get a sense that things are proceeding accordingly. You have already seen how we can easily use <a class="reference external" href="https://hvplot.pyviz.org/">hvPlot</a> for bare xarray data, but hvPlot also provides interactive plotting commands for Intake, Pandas, Dask, and GeoPandas objects. We’ll look more closely at hvPlot and its options in later tutorials.</p>
<p>For now, let’s just plot out our different band images as columns (using <code class="docutils literal notranslate"><span class="pre">col='band'</span></code>). We can also set <code class="docutils literal notranslate"><span class="pre">rasterize=True</span></code> to use <a class="reference external" href="https://datashader.org/">Datashader</a> (another HoloViz tool) to render large data into a 2D histogram, where every array cell counts the data points falling into that pixel, as set by the resolution of your screen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">image</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="s1">&#39;band&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">xaxis</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">yaxis</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">rasterize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Hint: Try zooming in on one plot to see that they are all linked!</p>
<p>If we increase the complexity a bit and consider the likely situation where you are constantly loading and visualizing a similar type of data using an Intake catalog, you can instead just declare plotting parameters directly into the catalog!</p>
<p>Here is the relevant part of our <code class="docutils literal notranslate"><span class="pre">catalog.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">metadata</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">plots</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">band_image</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;image&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;x&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">y</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;y&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">groupby</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;band&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">rasterize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span><span class="w"></span>
<span class="w">      </span><span class="nt">width</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">400</span><span class="w"></span>
<span class="w">      </span><span class="nt">dynamic</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span><span class="w"></span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">landsat_5_small</span>
<span class="n">landsat_5</span><span class="o">.</span><span class="n">to_dask</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">band_image</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Excellent! Since we didn’t specify that the images should to be plotted as columns, hvPlot conveniently gives us a widget to scrub through them.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="side-note-drilling-down-for-data-access">
<h2>Side-note: Drilling down for data access<a class="headerlink" href="#side-note-drilling-down-for-data-access" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>As part of accessing data, it’s important to understand how to drill down to different representations of our data that certain processing steps might require. As we saw earlier, Dask only loads the data into memory when it really needs it for a computation or when you explicility ask, so let’s go ahead and ask.</p>
<div class="section" id="xarray-dataarray">
<h3>Xarray DataArray<a class="headerlink" href="#xarray-dataarray" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>If the data are small enough, we can use the <code class="docutils literal notranslate"><span class="pre">.read()</span></code> method to read all the data into a regular <code class="docutils literal notranslate"><span class="pre">xarray.DataArray</span></code>. This method returns all the data into one in-memory container. Once in an <code class="docutils literal notranslate"><span class="pre">xarray</span></code> object the data can be more easily manipulated and visualized.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_xda</span> <span class="o">=</span> <span class="n">landsat_5</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">type</span><span class="p">(</span><span class="n">landsat_5_xda</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_xda</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="numpy-array">
<h3>Numpy Array<a class="headerlink" href="#numpy-array" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>Under the hood, this xarray object is essentially comprised of NumPy arrays with the addition of coordinate labels (and <a class="reference external" href="https://docs.xarray.dev/en/latest/getting-started-guide/why-xarray.html">other superpowers</a>). Sometimes, machine learning tools (e.g. <a class="reference external" href="https://scikit-learn.org/stable/">scikit-learn</a>) accept NumPy arrays as input. These arrays are accessible to us from the xarray DataArray objects by using the <code class="docutils literal notranslate"><span class="pre">.values</span></code> attribute.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_npa</span> <span class="o">=</span> <span class="n">landsat_5_xda</span><span class="o">.</span><span class="n">values</span>
<span class="nb">type</span><span class="p">(</span><span class="n">landsat_5_npa</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_npa</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landsat_5_npa</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>Before accessing any data, it’s a good idea to start by learning about the context and details of the dataset. This will give you the intuition to make informed decisions as you form a processing and analysis pipeline. Once you have identified a dataset to use, tailer the data access approach given the features of the data, such as size and location. If your data is local and small, a reliable approach is to access the data with either Pandas or xarray, depending on whether the data is tabular or gridded. As earth science data is often large, multidimensional, and on a remote server, a powerful and increasingly common approach is to use the combination of Intake, Dask, and xarray. Once you have accessed data, visualize it with hvPlot to ensure that it matches your expectations.</p>
<div class="section" id="whats-next">
<h3>What’s next?<a class="headerlink" href="#whats-next" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>After loading the data, you will typically need to process it in some way before it can be fed into a machine learning pipeline. We will cover an example of such processing in the next section.</p>
</div>
</div>
<div class="section" id="resources-and-references">
<h2>Resources and references<a class="headerlink" href="#resources-and-references" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<ul class="simple">
<li><p>Authored/adapted by Demetris Roumis circa Dec, 2022</p></li>
<li><p>This cookbook was inspired by the <a class="reference external" href="https://github.com/pyviz-topics/EarthML">EarthML</a> tutorial. See a list of the EarthML contributors <a class="reference external" href="https://github.com/pyviz-topics/EarthML/graphs/contributors">here</a>.
<a href="https://github.com/pyviz-topics/EarthML/graphs/contributors">
<img alt="https://contrib.rocks/image?repo=pyviz-topics/EarthML" src="https://contrib.rocks/image?repo=pyviz-topics/EarthML" />
</a></p></li>
<li><p>The landsat timeline image is originally from <a class="reference external" href="https://www.usgs.gov/landsat-missions/landsat-satellite-missions?qt-science_support_page_related_con=2#qt-science_support_page_related_con">USGS</a> but discovered through <a class="reference external" href="https://www.earthdatascience.org/courses/use-data-open-source-python/multispectral-remote-sensing/landsat-in-Python/">earthsciencedata.org</a></p></li>
<li><p>The landsat 8 banner image is from <a class="reference external" href="https://svs.gsfc.nasa.gov/10812">NASA</a></p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-hv-landsat-cookbook-py"
        },
        kernelOptions: {
            kernelName: "conda-env-hv-landsat-cookbook-py",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-hv-landsat-cookbook-py'</script>

              </div>
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../README.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Landsat ML Cookbook</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="02_Preprocessing.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Preprocessing Data</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </div>
          </div>
        </main>

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

<footer class="footer">
  <div class="container-fluid m-0 p-0">
  
    <div class="footer-item">
    
  <div class="container-fluid footer-logos">
    <div class="container-xl">
      <div class="row d-flex flex-wrap align-items-center">
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="NCAR" src="../_images/NCAR-contemp-logo-blue.svg" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="Unidata" src="../_images/Unidata_logo_horizontal_1200x300.svg" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="UAlbany" src="../_images/UAlbany-A2-logo-purple-gold.svg" style="width: 100%">
        </div>
      </div>
    </div>
  </div>
    </div>
  
    <div class="footer-item">
    
    </div>
  
    <div class="footer-item">
      <div class="container-fluid footer-info">
    <div class="container-xl">
      <div class="d-flex justify-content-center">
        <p class="py-1 m-0">
            &copy;&nbsp;2022.
        
          By the <a href="https://projectpythia.org/">Project Pythia</a> Community.
        
          Last updated on 15 December 2022.
        </p>
      </div>
    </div>
  </div>
    </div>
  
    <div class="footer-item">
    
    </div>
  
  </div>
</footer>
  </body>
</html>